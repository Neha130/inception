package pkg

import (
	"reflect"
	"testing"
)

func TestJsonSelect(t *testing.T) {
	input := `{"apiVersion": "v1",    "items": [{"apiVersion":"v1","kind":"Pod","metadata":{"annotations":{"cni.projectcalico.org/podIP":"100.96.29.137/32"},"creationTimestamp":"2020-10-21T10:08:56Z","generateName":"argo-rollouts-f7cb886b4-","labels":{"app.kubernetes.io/name":"argo-rollouts","pod-template-hash":"f7cb886b4"},"name":"argo-rollouts-f7cb886b4-4z2rq","namespace":"devtroncd","ownerReferences":[{"apiVersion":"apps/v1","blockOwnerDeletion":true,"controller":true,"kind":"ReplicaSet","name":"argo-rollouts-f7cb886b4","uid":"363fd345-e2f6-11ea-8d53-0212400c98ac"}],"resourceVersion":"43162673","selfLink":"/api/v1/namespaces/devtroncd/pods/argo-rollouts-f7cb886b4-4z2rq","uid":"6e195814-1385-11eb-9c05-02adf247d5d4"},"spec":{"containers":[{"command":["/bin/rollouts-controller"],"image":"686244538589.dkr.ecr.us-east-2.amazonaws.com/release/argo-rollout:v0.6.0-p6","imagePullPolicy":"Always","name":"argo-rollouts","resources":{"limits":{"cpu":"100m","memory":"200Mi"},"requests":{"cpu":"50m","memory":"100Mi"}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/tmp","name":"tmp"},{"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","name":"argo-rollouts-token-mhknd","readOnly":true}]}],"dnsPolicy":"ClusterFirst","nodeName":"ip-172-31-181-105.us-east-2.compute.internal","priority":0,"restartPolicy":"Always","schedulerName":"default-scheduler","securityContext":{},"serviceAccount":"argo-rollouts","serviceAccountName":"argo-rollouts","terminationGracePeriodSeconds":30,"tolerations":[{"effect":"NoExecute","key":"node.kubernetes.io/not-ready","operator":"Exists","tolerationSeconds":300},{"effect":"NoExecute","key":"node.kubernetes.io/unreachable","operator":"Exists","tolerationSeconds":300}],"volumes":[{"emptyDir":{},"name":"tmp"},{"name":"argo-rollouts-token-mhknd","secret":{"defaultMode":420,"secretName":"argo-rollouts-token-mhknd"}}]},"status":{"conditions":[{"lastProbeTime":null,"lastTransitionTime":"2020-10-21T10:08:56Z","status":"True","type":"Initialized"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-21T10:09:06Z","status":"True","type":"Ready"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-21T10:09:06Z","status":"True","type":"ContainersReady"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-21T10:08:56Z","status":"True","type":"PodScheduled"}],"containerStatuses":[{"containerID":"docker://d10717e6c64f6f52ab07c4b54dd115dc11b437053966754e1f3f7bd403e81c62","image":"686244538589.dkr.ecr.us-east-2.amazonaws.com/release/argo-rollout:v0.6.0-p6","imageID":"docker-pullable://686244538589.dkr.ecr.us-east-2.amazonaws.com/release/argo-rollout@sha256:f0fe74898d72e8b6a9b70751b31f1e5c988525898be8f44a65279db1f71225f5","lastState":{},"name":"argo-rollouts","ready":true,"restartCount":0,"state":{"running":{"startedAt":"2020-10-21T10:09:06Z"}}}],"hostIP":"172.31.181.105","phase":"Running","podIP":"100.96.29.137","qosClass":"Burstable","startTime":"2020-10-21T10:08:56Z"}},{"apiVersion":"v1","kind":"Pod","metadata":{"annotations":{"cni.projectcalico.org/podIP":"100.96.15.162/32"},"creationTimestamp":"2020-10-13T09:24:29Z","generateName":"argocd-application-controller-844c87c6cc-","labels":{"app.kubernetes.io/name":"argocd-application-controller","pod-template-hash":"844c87c6cc"},"name":"argocd-application-controller-844c87c6cc-vhgxm","namespace":"devtroncd","ownerReferences":[{"apiVersion":"apps/v1","blockOwnerDeletion":true,"controller":true,"kind":"ReplicaSet","name":"argocd-application-controller-844c87c6cc","uid":"b892272c-9b6f-11ea-9e9f-02d9ecfd9bc6"}],"resourceVersion":"44608848","selfLink":"/api/v1/namespaces/devtroncd/pods/argocd-application-controller-844c87c6cc-vhgxm","uid":"e559628c-0d35-11eb-9c05-02adf247d5d4"},"spec":{"containers":[{"command":["argocd-application-controller","--status-processors","20","--operation-processors","10"],"image":"argoproj/argocd:v1.2.1","imagePullPolicy":"Always","livenessProbe":{"failureThreshold":3,"httpGet":{"path":"/healthz","port":8082,"scheme":"HTTP"},"initialDelaySeconds":5,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":1},"name":"argocd-application-controller","ports":[{"containerPort":8082,"protocol":"TCP"}],"readinessProbe":{"failureThreshold":3,"httpGet":{"path":"/healthz","port":8082,"scheme":"HTTP"},"initialDelaySeconds":5,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":1},"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","name":"argocd-application-controller-token-97wzm","readOnly":true}]}],"dnsPolicy":"ClusterFirst","nodeName":"ip-172-31-190-164.us-east-2.compute.internal","priority":0,"restartPolicy":"Always","schedulerName":"default-scheduler","securityContext":{},"serviceAccount":"argocd-application-controller","serviceAccountName":"argocd-application-controller","terminationGracePeriodSeconds":30,"tolerations":[{"effect":"NoExecute","key":"node.kubernetes.io/not-ready","operator":"Exists","tolerationSeconds":300},{"effect":"NoExecute","key":"node.kubernetes.io/unreachable","operator":"Exists","tolerationSeconds":300}],"volumes":[{"name":"argocd-application-controller-token-97wzm","secret":{"defaultMode":420,"secretName":"argocd-application-controller-token-97wzm"}}]},"status":{"conditions":[{"lastProbeTime":null,"lastTransitionTime":"2020-10-13T09:24:29Z","status":"True","type":"Initialized"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-25T13:04:19Z","status":"True","type":"Ready"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-25T13:04:19Z","status":"True","type":"ContainersReady"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-13T09:24:29Z","status":"True","type":"PodScheduled"}],"containerStatuses":[{"containerID":"docker://ba7a8dd98978038e3478cf968508d99aee7bceb4be1e64babeca652d112c4c10","image":"argoproj/argocd:v1.2.1","imageID":"docker-pullable://argoproj/argocd@sha256:b0230853357d7623d618845b3f3043891655a63fa59b24cb8beb351d34bca772","lastState":{"terminated":{"containerID":"docker://3dae2cfe6f0933fb2ccb75ddafa0715472ec44d4c6bbdf4b5deb32df2db6d2e8","exitCode":2,"finishedAt":"2020-10-25T13:04:04Z","reason":"Error","startedAt":"2020-10-25T13:02:30Z"}},"name":"argocd-application-controller","ready":true,"restartCount":80,"state":{"running":{"startedAt":"2020-10-25T13:04:05Z"}}}],"hostIP":"172.31.190.164","phase":"Running","podIP":"100.96.15.162","qosClass":"BestEffort","startTime":"2020-10-13T09:24:29Z"}},{"apiVersion":"v1","kind":"Pod","metadata":{"annotations":{"cni.projectcalico.org/podIP":"100.96.29.108/32"},"creationTimestamp":"2020-10-16T13:40:02Z","generateName":"argocd-dex-server-549d9c6d6d-","labels":{"app.kubernetes.io/name":"argocd-dex-server","pod-template-hash":"549d9c6d6d"},"name":"argocd-dex-server-549d9c6d6d-ms7ht","namespace":"devtroncd","ownerReferences":[{"apiVersion":"apps/v1","blockOwnerDeletion":true,"controller":true,"kind":"ReplicaSet","name":"argocd-dex-server-549d9c6d6d","uid":"b89c53d2-9b6f-11ea-9e9f-02d9ecfd9bc6"}],"resourceVersion":"41473419","selfLink":"/api/v1/namespaces/devtroncd/pods/argocd-dex-server-549d9c6d6d-ms7ht","uid":"17b514c0-0fb5-11eb-9c05-02adf247d5d4"},"spec":{"containers":[{"command":["/shared/argocd-util","rundex"],"image":"quay.io/dexidp/dex:v2.14.0","imagePullPolicy":"Always","name":"dex","ports":[{"containerPort":5556,"protocol":"TCP"},{"containerPort":5557,"protocol":"TCP"}],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/shared","name":"static-files"},{"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","name":"argocd-dex-server-token-pvgnv","readOnly":true}]}],"dnsPolicy":"ClusterFirst","initContainers":[{"command":["cp","/usr/local/bin/argocd-util","/shared"],"image":"argoproj/argocd:v1.2.1","imagePullPolicy":"Always","name":"copyutil","resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/shared","name":"static-files"},{"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","name":"argocd-dex-server-token-pvgnv","readOnly":true}]}],"nodeName":"ip-172-31-181-105.us-east-2.compute.internal","priority":0,"restartPolicy":"Always","schedulerName":"default-scheduler","securityContext":{},"serviceAccount":"argocd-dex-server","serviceAccountName":"argocd-dex-server","terminationGracePeriodSeconds":30,"tolerations":[{"effect":"NoExecute","key":"node.kubernetes.io/not-ready","operator":"Exists","tolerationSeconds":300},{"effect":"NoExecute","key":"node.kubernetes.io/unreachable","operator":"Exists","tolerationSeconds":300}],"volumes":[{"emptyDir":{},"name":"static-files"},{"name":"argocd-dex-server-token-pvgnv","secret":{"defaultMode":420,"secretName":"argocd-dex-server-token-pvgnv"}}]},"status":{"conditions":[{"lastProbeTime":null,"lastTransitionTime":"2020-10-16T13:40:22Z","status":"True","type":"Initialized"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-16T13:40:24Z","status":"True","type":"Ready"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-16T13:40:24Z","status":"True","type":"ContainersReady"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-16T13:40:02Z","status":"True","type":"PodScheduled"}],"containerStatuses":[{"containerID":"docker://1ffa3a61a1f847168a52156d082436c8e80c1e73da940bea25a0185337112473","image":"quay.io/dexidp/dex:v2.14.0","imageID":"docker-pullable://quay.io/dexidp/dex@sha256:91f4eb29479ea62b4df423f17ff063db6fd2eb66fb6440d37c4c3f70b5dfcd04","lastState":{},"name":"dex","ready":true,"restartCount":0,"state":{"running":{"startedAt":"2020-10-16T13:40:24Z"}}}],"hostIP":"172.31.181.105","initContainerStatuses":[{"containerID":"docker://22fbbe2cbc71e6244f8d8c334d87672106bb54bd448272600e87f21f796d57e1","image":"argoproj/argocd:v1.2.1","imageID":"docker-pullable://argoproj/argocd@sha256:b0230853357d7623d618845b3f3043891655a63fa59b24cb8beb351d34bca772","lastState":{},"name":"copyutil","ready":true,"restartCount":0,"state":{"terminated":{"containerID":"docker://22fbbe2cbc71e6244f8d8c334d87672106bb54bd448272600e87f21f796d57e1","exitCode":0,"finishedAt":"2020-10-16T13:40:22Z","reason":"Completed","startedAt":"2020-10-16T13:40:22Z"}}}],"phase":"Running","podIP":"100.96.29.108","qosClass":"BestEffort","startTime":"2020-10-16T13:40:02Z"}},{"apiVersion":"v1","kind":"Pod","metadata":{"annotations":{"cni.projectcalico.org/podIP":"100.96.15.159/32"},"creationTimestamp":"2020-09-25T16:22:03Z","generateName":"argocd-redis-8b47846cd-","labels":{"app.kubernetes.io/name":"argocd-redis","pod-template-hash":"8b47846cd"},"name":"argocd-redis-8b47846cd-5ps6z","namespace":"devtroncd","ownerReferences":[{"apiVersion":"apps/v1","blockOwnerDeletion":true,"controller":true,"kind":"ReplicaSet","name":"argocd-redis-8b47846cd","uid":"c6998ecd-e1de-11ea-8d53-0212400c98ac"}],"resourceVersion":"44599287","selfLink":"/api/v1/namespaces/devtroncd/pods/argocd-redis-8b47846cd-5ps6z","uid":"3f347036-ff4b-11ea-9c05-02adf247d5d4"},"spec":{"containers":[{"args":["--save","","--appendonly","no"],"image":"redis:5.0.3","imagePullPolicy":"Always","name":"redis","ports":[{"containerPort":6379,"protocol":"TCP"}],"resources":{"limits":{"cpu":"200m","memory":"500Mi"},"requests":{"cpu":"100m","memory":"300Mi"}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","name":"default-token-k6hks","readOnly":true}]}],"dnsPolicy":"ClusterFirst","nodeName":"ip-172-31-190-164.us-east-2.compute.internal","priority":0,"restartPolicy":"Always","schedulerName":"default-scheduler","securityContext":{},"serviceAccount":"default","serviceAccountName":"default","terminationGracePeriodSeconds":30,"tolerations":[{"effect":"NoExecute","key":"node.kubernetes.io/not-ready","operator":"Exists","tolerationSeconds":300},{"effect":"NoExecute","key":"node.kubernetes.io/unreachable","operator":"Exists","tolerationSeconds":300}],"volumes":[{"name":"default-token-k6hks","secret":{"defaultMode":420,"secretName":"default-token-k6hks"}}]},"status":{"conditions":[{"lastProbeTime":null,"lastTransitionTime":"2020-09-25T16:22:03Z","status":"True","type":"Initialized"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-15T09:25:43Z","status":"True","type":"Ready"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-15T09:25:43Z","status":"True","type":"ContainersReady"},{"lastProbeTime":null,"lastTransitionTime":"2020-09-25T16:22:03Z","status":"True","type":"PodScheduled"}],"containerStatuses":[{"containerID":"docker://59d9db20927c7107e482e4a80149e66e55538c9bea14a16f07ff009aa2022a41","image":"redis:5.0.3","imageID":"docker-pullable://redis@sha256:4be7fdb131e76a6c6231e820c60b8b12938cf1ff3d437da4871b9b2440f4e385","lastState":{"terminated":{"containerID":"docker://ea4c33bbb61a6c4a19f2cbe402273ed7423cc6ad084ff49a85088163ac8e2721","exitCode":0,"finishedAt":"2020-10-15T09:21:59Z","reason":"Completed","startedAt":"2020-09-25T16:23:13Z"}},"name":"redis","ready":true,"restartCount":1,"state":{"running":{"startedAt":"2020-10-15T09:25:16Z"}}}],"hostIP":"172.31.190.164","phase":"Running","podIP":"100.96.15.159","qosClass":"Burstable","startTime":"2020-09-25T16:22:03Z"}},{"apiVersion":"v1","kind":"Pod","metadata":{"annotations":{"cni.projectcalico.org/podIP":"100.96.15.179/32"},"creationTimestamp":"2020-10-21T10:08:56Z","generateName":"argocd-repo-server-5db79f6bdc-","labels":{"app.kubernetes.io/name":"argocd-repo-server","pod-template-hash":"5db79f6bdc"},"name":"argocd-repo-server-5db79f6bdc-l9jm4","namespace":"devtroncd","ownerReferences":[{"apiVersion":"apps/v1","blockOwnerDeletion":true,"controller":true,"kind":"ReplicaSet","name":"argocd-repo-server-5db79f6bdc","uid":"b8965476-9b6f-11ea-9e9f-02d9ecfd9bc6"}],"resourceVersion":"44599298","selfLink":"/api/v1/namespaces/devtroncd/pods/argocd-repo-server-5db79f6bdc-l9jm4","uid":"6e1e348e-1385-11eb-9c05-02adf247d5d4"},"spec":{"automountServiceAccountToken":false,"containers":[{"command":["argocd-repo-server","--redis","argocd-redis:6379"],"image":"argoproj/argocd:v1.2.1","imagePullPolicy":"Always","livenessProbe":{"failureThreshold":3,"initialDelaySeconds":5,"periodSeconds":10,"successThreshold":1,"tcpSocket":{"port":8081},"timeoutSeconds":1},"name":"argocd-repo-server","ports":[{"containerPort":8081,"protocol":"TCP"},{"containerPort":8084,"protocol":"TCP"}],"readinessProbe":{"failureThreshold":3,"initialDelaySeconds":5,"periodSeconds":10,"successThreshold":1,"tcpSocket":{"port":8081},"timeoutSeconds":1},"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/app/config/ssh","name":"ssh-known-hosts"},{"mountPath":"/app/config/tls","name":"tls-certs"}]}],"dnsPolicy":"ClusterFirst","nodeName":"ip-172-31-190-164.us-east-2.compute.internal","priority":0,"restartPolicy":"Always","schedulerName":"default-scheduler","securityContext":{},"serviceAccount":"default","serviceAccountName":"default","terminationGracePeriodSeconds":30,"tolerations":[{"effect":"NoExecute","key":"node.kubernetes.io/not-ready","operator":"Exists","tolerationSeconds":300},{"effect":"NoExecute","key":"node.kubernetes.io/unreachable","operator":"Exists","tolerationSeconds":300}],"volumes":[{"configMap":{"defaultMode":420,"name":"argocd-ssh-known-hosts-cm"},"name":"ssh-known-hosts"},{"configMap":{"defaultMode":420,"name":"argocd-tls-certs-cm"},"name":"tls-certs"}]},"status":{"conditions":[{"lastProbeTime":null,"lastTransitionTime":"2020-10-21T10:08:56Z","status":"True","type":"Initialized"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-25T11:10:47Z","status":"True","type":"Ready"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-25T11:10:47Z","status":"True","type":"ContainersReady"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-21T10:08:56Z","status":"True","type":"PodScheduled"}],"containerStatuses":[{"containerID":"docker://42da6b1ef588301d2cf5a28203b9509ccd268182abdb79b2c50131220b965d35","image":"argoproj/argocd:v1.2.1","imageID":"docker-pullable://argoproj/argocd@sha256:b0230853357d7623d618845b3f3043891655a63fa59b24cb8beb351d34bca772","lastState":{},"name":"argocd-repo-server","ready":true,"restartCount":0,"state":{"running":{"startedAt":"2020-10-21T10:08:59Z"}}}],"hostIP":"172.31.190.164","phase":"Running","podIP":"100.96.15.179","qosClass":"BestEffort","startTime":"2020-10-21T10:08:56Z"}},{"apiVersion":"v1","kind":"Pod","metadata":{"annotations":{"cni.projectcalico.org/podIP":"100.96.15.169/32"},"creationTimestamp":"2020-10-16T12:26:19Z","generateName":"argocd-server-74b7b94945-","labels":{"app.kubernetes.io/name":"argocd-server","pod-template-hash":"74b7b94945"},"name":"argocd-server-74b7b94945-tq6wc","namespace":"devtroncd","ownerReferences":[{"apiVersion":"apps/v1","blockOwnerDeletion":true,"controller":true,"kind":"ReplicaSet","name":"argocd-server-74b7b94945","uid":"451e343f-e1df-11ea-8d53-0212400c98ac"}],"resourceVersion":"44605049","selfLink":"/api/v1/namespaces/devtroncd/pods/argocd-server-74b7b94945-tq6wc","uid":"cb525fea-0faa-11eb-9c05-02adf247d5d4"},"spec":{"containers":[{"command":["argocd-server","--staticassets","/shared/app"],"image":"argoproj/argocd:v1.2.1","imagePullPolicy":"Always","livenessProbe":{"failureThreshold":3,"httpGet":{"path":"/healthz","port":8080,"scheme":"HTTP"},"initialDelaySeconds":3,"periodSeconds":30,"successThreshold":1,"timeoutSeconds":1},"name":"argocd-server","ports":[{"containerPort":8080,"protocol":"TCP"},{"containerPort":8083,"protocol":"TCP"}],"readinessProbe":{"failureThreshold":3,"httpGet":{"path":"/healthz","port":8080,"scheme":"HTTP"},"initialDelaySeconds":3,"periodSeconds":30,"successThreshold":1,"timeoutSeconds":1},"resources":{"limits":{"cpu":"300m","memory":"1000Mi"},"requests":{"cpu":"150m","memory":"800Mi"}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/app/config/ssh","name":"ssh-known-hosts"},{"mountPath":"/app/config/tls","name":"tls-certs"},{"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","name":"argocd-server-token-j5vmn","readOnly":true}]}],"dnsPolicy":"ClusterFirst","nodeName":"ip-172-31-190-164.us-east-2.compute.internal","priority":0,"restartPolicy":"Always","schedulerName":"default-scheduler","securityContext":{},"serviceAccount":"argocd-server","serviceAccountName":"argocd-server","terminationGracePeriodSeconds":30,"tolerations":[{"effect":"NoExecute","key":"node.kubernetes.io/not-ready","operator":"Exists","tolerationSeconds":300},{"effect":"NoExecute","key":"node.kubernetes.io/unreachable","operator":"Exists","tolerationSeconds":300}],"volumes":[{"emptyDir":{},"name":"static-files"},{"configMap":{"defaultMode":420,"name":"argocd-ssh-known-hosts-cm"},"name":"ssh-known-hosts"},{"configMap":{"defaultMode":420,"name":"argocd-tls-certs-cm"},"name":"tls-certs"},{"name":"argocd-server-token-j5vmn","secret":{"defaultMode":420,"secretName":"argocd-server-token-j5vmn"}}]},"status":{"conditions":[{"lastProbeTime":null,"lastTransitionTime":"2020-10-16T12:26:19Z","status":"True","type":"Initialized"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-25T12:48:41Z","status":"True","type":"Ready"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-25T12:48:41Z","status":"True","type":"ContainersReady"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-16T12:26:19Z","status":"True","type":"PodScheduled"}],"containerStatuses":[{"containerID":"docker://762a8ceb382daa95897dc1af1478e10ff7e71a272421e7f63675dc4edda15a31","image":"argoproj/argocd:v1.2.1","imageID":"docker-pullable://argoproj/argocd@sha256:b0230853357d7623d618845b3f3043891655a63fa59b24cb8beb351d34bca772","lastState":{"terminated":{"containerID":"docker://50d12104e0e508f1e14f27a5e684b4c679934a9ae1e466f5545bc9a54778f238","exitCode":2,"finishedAt":"2020-10-25T12:48:16Z","reason":"Error","startedAt":"2020-10-25T12:37:47Z"}},"name":"argocd-server","ready":true,"restartCount":25,"state":{"running":{"startedAt":"2020-10-25T12:48:23Z"}}}],"hostIP":"172.31.190.164","phase":"Running","podIP":"100.96.15.169","qosClass":"Burstable","startTime":"2020-10-16T12:26:19Z"}},{"apiVersion":"v1","kind":"Pod","metadata":{"annotations":{"cni.projectcalico.org/podIP":"100.96.40.77/32"},"creationTimestamp":"2020-10-21T13:23:25Z","generateName":"dashboard-demo-devtroncd-5b99fc4d57-","labels":{"app":"dashboard","appId":"1","envId":"7","release":"dashboard-demo-devtroncd","rollouts-pod-template-hash":"5b99fc4d57"},"name":"dashboard-demo-devtroncd-5b99fc4d57-frdhf","namespace":"devtroncd","ownerReferences":[{"apiVersion":"apps/v1","blockOwnerDeletion":true,"controller":true,"kind":"ReplicaSet","name":"dashboard-demo-devtroncd-5b99fc4d57","uid":"61e72ff2-13a0-11eb-9c05-02adf247d5d4"}],"resourceVersion":"43210460","selfLink":"/api/v1/namespaces/devtroncd/pods/dashboard-demo-devtroncd-5b99fc4d57-frdhf","uid":"992a90d5-13a0-11eb-9c05-02adf247d5d4"},"spec":{"containers":[{"args":["-c","/etc/envoy-config/envoy-config.json","-l","info","--log-format","[METADATA][%Y-%m-%d %T.%e][%t][%l][%n] %v"],"command":["/usr/local/bin/envoy"],"image":"envoyproxy/envoy:v1.14.1","imagePullPolicy":"IfNotPresent","name":"envoy","ports":[{"containerPort":9901,"name":"envoy-admin","protocol":"TCP"},{"containerPort":8790,"name":"app","protocol":"TCP"}],"resources":{"limits":{"cpu":"50m","memory":"50Mi"},"requests":{"cpu":"50m","memory":"50Mi"}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/etc/envoy-config/","name":"envoy-config-volume"},{"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","name":"default-token-k6hks","readOnly":true}]},{"env":[{"name":"CONFIG_HASH","value":"c6c303431a20951eb9302affed76d30851442c57d189750a08a97d3ae606c560"},{"name":"SECRET_HASH","value":"552efd3342e616f7ff4a7d2fffd4879809af5efabeda4c1a8597aeafefcb017d"},{"name":"DEVTRON_APP_NAME","value":"dashboard"},{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}}],"envFrom":[{"configMapRef":{"name":"dashboard-cm-1"}},{"secretRef":{"name":"secret-1"}}],"image":"686244538589.dkr.ecr.us-east-2.amazonaws.com/release/dashboard:9215a6be-51-2027","imagePullPolicy":"IfNotPresent","name":"dashboard","ports":[{"containerPort":80,"name":"app","protocol":"TCP"}],"resources":{"limits":{"cpu":"100m","memory":"200Mi"},"requests":{"cpu":"10m","memory":"100Mi"}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","name":"default-token-k6hks","readOnly":true}]}],"dnsPolicy":"ClusterFirst","nodeName":"ip-172-31-183-218.us-east-2.compute.internal","priority":0,"restartPolicy":"Always","schedulerName":"default-scheduler","securityContext":{},"serviceAccount":"default","serviceAccountName":"default","terminationGracePeriodSeconds":30,"tolerations":[{"effect":"NoExecute","key":"node.kubernetes.io/not-ready","operator":"Exists","tolerationSeconds":300},{"effect":"NoExecute","key":"node.kubernetes.io/unreachable","operator":"Exists","tolerationSeconds":300}],"volumes":[{"configMap":{"defaultMode":420,"name":"sidecar-config-dashboard"},"name":"envoy-config-volume"},{"name":"default-token-k6hks","secret":{"defaultMode":420,"secretName":"default-token-k6hks"}}]},"status":{"conditions":[{"lastProbeTime":null,"lastTransitionTime":"2020-10-21T13:23:25Z","status":"True","type":"Initialized"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-21T13:23:26Z","status":"True","type":"Ready"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-21T13:23:26Z","status":"True","type":"ContainersReady"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-21T13:23:25Z","status":"True","type":"PodScheduled"}],"containerStatuses":[{"containerID":"docker://4f406d8b5e28ac3f006ba3e93b328ee01d0351deb9efaff63e9dd908304d91b2","image":"686244538589.dkr.ecr.us-east-2.amazonaws.com/release/dashboard:9215a6be-51-2027","imageID":"docker-pullable://686244538589.dkr.ecr.us-east-2.amazonaws.com/release/dashboard@sha256:819159e250d65b6300b91d10ea04619b8b8d07a85d25b7204c96d241346329c3","lastState":{},"name":"dashboard","ready":true,"restartCount":0,"state":{"running":{"startedAt":"2020-10-21T13:23:26Z"}}},{"containerID":"docker://b633f61e97632a2508a9c5ddc51560d987fe29234d0f6320551c3f01078fb728","image":"envoyproxy/envoy:v1.14.1","imageID":"docker-pullable://envoyproxy/envoy@sha256:ccaf9e0135bf498fb8396ad49defd7f8567bf706411d9a707efb3978fb842c89","lastState":{},"name":"envoy","ready":true,"restartCount":0,"state":{"running":{"startedAt":"2020-10-21T13:23:26Z"}}}],"hostIP":"172.31.183.218","phase":"Running","podIP":"100.96.40.77","qosClass":"Burstable","startTime":"2020-10-21T13:23:25Z"}},{"apiVersion":"v1","kind":"Pod","metadata":{"annotations":{"cni.projectcalico.org/podIP":"100.96.40.76/32"},"creationTimestamp":"2020-10-21T13:21:52Z","generateName":"dashboard-demo-devtroncd-5b99fc4d57-","labels":{"app":"dashboard","appId":"1","envId":"7","release":"dashboard-demo-devtroncd","rollouts-pod-template-hash":"5b99fc4d57"},"name":"dashboard-demo-devtroncd-5b99fc4d57-gxdqp","namespace":"devtroncd","ownerReferences":[{"apiVersion":"apps/v1","blockOwnerDeletion":true,"controller":true,"kind":"ReplicaSet","name":"dashboard-demo-devtroncd-5b99fc4d57","uid":"61e72ff2-13a0-11eb-9c05-02adf247d5d4"}],"resourceVersion":"43210122","selfLink":"/api/v1/namespaces/devtroncd/pods/dashboard-demo-devtroncd-5b99fc4d57-gxdqp","uid":"61eaa024-13a0-11eb-9c05-02adf247d5d4"},"spec":{"containers":[{"args":["-c","/etc/envoy-config/envoy-config.json","-l","info","--log-format","[METADATA][%Y-%m-%d %T.%e][%t][%l][%n] %v"],"command":["/usr/local/bin/envoy"],"image":"envoyproxy/envoy:v1.14.1","imagePullPolicy":"IfNotPresent","name":"envoy","ports":[{"containerPort":9901,"name":"envoy-admin","protocol":"TCP"},{"containerPort":8790,"name":"app","protocol":"TCP"}],"resources":{"limits":{"cpu":"50m","memory":"50Mi"},"requests":{"cpu":"50m","memory":"50Mi"}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/etc/envoy-config/","name":"envoy-config-volume"},{"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","name":"default-token-k6hks","readOnly":true}]},{"env":[{"name":"CONFIG_HASH","value":"c6c303431a20951eb9302affed76d30851442c57d189750a08a97d3ae606c560"},{"name":"SECRET_HASH","value":"552efd3342e616f7ff4a7d2fffd4879809af5efabeda4c1a8597aeafefcb017d"},{"name":"DEVTRON_APP_NAME","value":"dashboard"},{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}}],"envFrom":[{"configMapRef":{"name":"dashboard-cm-1"}},{"secretRef":{"name":"secret-1"}}],"image":"686244538589.dkr.ecr.us-east-2.amazonaws.com/release/dashboard:9215a6be-51-2027","imagePullPolicy":"IfNotPresent","name":"dashboard","ports":[{"containerPort":80,"name":"app","protocol":"TCP"}],"resources":{"limits":{"cpu":"100m","memory":"200Mi"},"requests":{"cpu":"10m","memory":"100Mi"}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","name":"default-token-k6hks","readOnly":true}]}],"dnsPolicy":"ClusterFirst","nodeName":"ip-172-31-183-218.us-east-2.compute.internal","priority":0,"restartPolicy":"Always","schedulerName":"default-scheduler","securityContext":{},"serviceAccount":"default","serviceAccountName":"default","terminationGracePeriodSeconds":30,"tolerations":[{"effect":"NoExecute","key":"node.kubernetes.io/not-ready","operator":"Exists","tolerationSeconds":300},{"effect":"NoExecute","key":"node.kubernetes.io/unreachable","operator":"Exists","tolerationSeconds":300}],"volumes":[{"configMap":{"defaultMode":420,"name":"sidecar-config-dashboard"},"name":"envoy-config-volume"},{"name":"default-token-k6hks","secret":{"defaultMode":420,"secretName":"default-token-k6hks"}}]},"status":{"conditions":[{"lastProbeTime":null,"lastTransitionTime":"2020-10-21T13:21:52Z","status":"True","type":"Initialized"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-21T13:21:55Z","status":"True","type":"Ready"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-21T13:21:55Z","status":"True","type":"ContainersReady"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-21T13:21:52Z","status":"True","type":"PodScheduled"}],"containerStatuses":[{"containerID":"docker://5ec5dd5bdd8ec11d0bc5740394711842fe112ce261ff0e7d73fb41c28e1b7ebc","image":"686244538589.dkr.ecr.us-east-2.amazonaws.com/release/dashboard:9215a6be-51-2027","imageID":"docker-pullable://686244538589.dkr.ecr.us-east-2.amazonaws.com/release/dashboard@sha256:819159e250d65b6300b91d10ea04619b8b8d07a85d25b7204c96d241346329c3","lastState":{},"name":"dashboard","ready":true,"restartCount":0,"state":{"running":{"startedAt":"2020-10-21T13:21:55Z"}}},{"containerID":"docker://37fbaadc7d9842165efc2813dbee6065b2386705aa124eab515b4ccddc81f7fd","image":"envoyproxy/envoy:v1.14.1","imageID":"docker-pullable://envoyproxy/envoy@sha256:ccaf9e0135bf498fb8396ad49defd7f8567bf706411d9a707efb3978fb842c89","lastState":{},"name":"envoy","ready":true,"restartCount":0,"state":{"running":{"startedAt":"2020-10-21T13:21:53Z"}}}],"hostIP":"172.31.183.218","phase":"Running","podIP":"100.96.40.76","qosClass":"Burstable","startTime":"2020-10-21T13:21:52Z"}},{"apiVersion":"v1","kind":"Pod","metadata":{"annotations":{"cni.projectcalico.org/podIP":"100.96.29.92/32","nats.version":"1.4.0"},"creationTimestamp":"2020-10-13T09:04:18Z","labels":{"app":"nats","nats_cluster":"devtron-nats","nats_version":"1.4.0"},"name":"devtron-nats-1","namespace":"devtroncd","ownerReferences":[{"apiVersion":"nats.io/v1alpha2","controller":true,"kind":"NatsCluster","name":"devtron-nats","uid":"d0d2c717-9b6f-11ea-9e9f-02d9ecfd9bc6"}],"resourceVersion":"40358313","selfLink":"/api/v1/namespaces/devtroncd/pods/devtron-nats-1","uid":"135c2776-0d33-11eb-9c05-02adf247d5d4"},"spec":{"containers":[{"command":["/gnatsd","-c","/etc/nats-config/nats.conf","-P","/var/run/nats/gnatsd.pid","--cluster_advertise","devtron-nats-1.devtron-nats-mgmt.devtroncd.svc","--connect_retries","10"],"env":[{"name":"SVC","value":"devtron-nats-mgmt"},{"name":"EXTRA","value":"--http_port=8222"}],"image":"nats:1.4.0","imagePullPolicy":"IfNotPresent","livenessProbe":{"failureThreshold":3,"httpGet":{"path":"/","port":8222,"scheme":"HTTP"},"initialDelaySeconds":10,"periodSeconds":60,"successThreshold":1,"timeoutSeconds":10},"name":"nats","ports":[{"containerPort":6222,"name":"cluster","protocol":"TCP"},{"containerPort":8222,"name":"monitoring","protocol":"TCP"},{"containerPort":4222,"name":"client","protocol":"TCP"}],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/etc/nats-config","name":"nats-config"},{"mountPath":"/var/run/nats","name":"pid"},{"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","name":"default-token-k6hks","readOnly":true}]}],"dnsPolicy":"ClusterFirst","hostname":"devtron-nats-1","nodeName":"ip-172-31-181-105.us-east-2.compute.internal","priority":0,"restartPolicy":"Never","schedulerName":"default-scheduler","securityContext":{},"serviceAccount":"default","serviceAccountName":"default","subdomain":"devtron-nats-mgmt","terminationGracePeriodSeconds":30,"tolerations":[{"effect":"NoExecute","key":"node.kubernetes.io/not-ready","operator":"Exists","tolerationSeconds":300},{"effect":"NoExecute","key":"node.kubernetes.io/unreachable","operator":"Exists","tolerationSeconds":300}],"volumes":[{"name":"nats-config","secret":{"defaultMode":420,"secretName":"devtron-nats"}},{"emptyDir":{},"name":"pid"},{"name":"default-token-k6hks","secret":{"defaultMode":420,"secretName":"default-token-k6hks"}}]},"status":{"conditions":[{"lastProbeTime":null,"lastTransitionTime":"2020-10-13T09:04:18Z","status":"True","type":"Initialized"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-13T09:04:23Z","status":"True","type":"Ready"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-13T09:04:23Z","status":"True","type":"ContainersReady"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-13T09:04:18Z","status":"True","type":"PodScheduled"}],"containerStatuses":[{"containerID":"docker://c404913b86400404221e75d27695ff8c887c38c990dacaca46dd047d599932e2","image":"nats:1.4.0","imageID":"docker-pullable://nats@sha256:5e25736ee9eea5f8d78ebb75db5b94d1c5f790712cddb6b203a360cba48066c6","lastState":{},"name":"nats","ready":true,"restartCount":0,"state":{"running":{"startedAt":"2020-10-13T09:04:23Z"}}}],"hostIP":"172.31.181.105","phase":"Running","podIP":"100.96.29.92","qosClass":"BestEffort","startTime":"2020-10-13T09:04:18Z"}},{"apiVersion":"v1","kind":"Pod","metadata":{"annotations":{"cni.projectcalico.org/podIP":"100.96.29.93/32","nats.version":"1.4.0"},"creationTimestamp":"2020-10-13T09:04:29Z","labels":{"app":"nats","nats_cluster":"devtron-nats","nats_version":"1.4.0"},"name":"devtron-nats-2","namespace":"devtroncd","ownerReferences":[{"apiVersion":"nats.io/v1alpha2","controller":true,"kind":"NatsCluster","name":"devtron-nats","uid":"d0d2c717-9b6f-11ea-9e9f-02d9ecfd9bc6"}],"resourceVersion":"40358368","selfLink":"/api/v1/namespaces/devtroncd/pods/devtron-nats-2","uid":"19e8309c-0d33-11eb-9c05-02adf247d5d4"},"spec":{"containers":[{"command":["/gnatsd","-c","/etc/nats-config/nats.conf","-P","/var/run/nats/gnatsd.pid","--cluster_advertise","devtron-nats-2.devtron-nats-mgmt.devtroncd.svc","--connect_retries","10"],"env":[{"name":"SVC","value":"devtron-nats-mgmt"},{"name":"EXTRA","value":"--http_port=8222"}],"image":"nats:1.4.0","imagePullPolicy":"IfNotPresent","livenessProbe":{"failureThreshold":3,"httpGet":{"path":"/","port":8222,"scheme":"HTTP"},"initialDelaySeconds":10,"periodSeconds":60,"successThreshold":1,"timeoutSeconds":10},"name":"nats","ports":[{"containerPort":6222,"name":"cluster","protocol":"TCP"},{"containerPort":8222,"name":"monitoring","protocol":"TCP"},{"containerPort":4222,"name":"client","protocol":"TCP"}],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/etc/nats-config","name":"nats-config"},{"mountPath":"/var/run/nats","name":"pid"},{"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","name":"default-token-k6hks","readOnly":true}]}],"dnsPolicy":"ClusterFirst","hostname":"devtron-nats-2","nodeName":"ip-172-31-181-105.us-east-2.compute.internal","priority":0,"restartPolicy":"Never","schedulerName":"default-scheduler","securityContext":{},"serviceAccount":"default","serviceAccountName":"default","subdomain":"devtron-nats-mgmt","terminationGracePeriodSeconds":30,"tolerations":[{"effect":"NoExecute","key":"node.kubernetes.io/not-ready","operator":"Exists","tolerationSeconds":300},{"effect":"NoExecute","key":"node.kubernetes.io/unreachable","operator":"Exists","tolerationSeconds":300}],"volumes":[{"name":"nats-config","secret":{"defaultMode":420,"secretName":"devtron-nats"}},{"emptyDir":{},"name":"pid"},{"name":"default-token-k6hks","secret":{"defaultMode":420,"secretName":"default-token-k6hks"}}]},"status":{"conditions":[{"lastProbeTime":null,"lastTransitionTime":"2020-10-13T09:04:29Z","status":"True","type":"Initialized"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-13T09:04:31Z","status":"True","type":"Ready"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-13T09:04:31Z","status":"True","type":"ContainersReady"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-13T09:04:29Z","status":"True","type":"PodScheduled"}],"containerStatuses":[{"containerID":"docker://774c04a503affc17499c79d2f9f6dae05dae69a04d55ff4a3c89dc46b0e3a38d","image":"nats:1.4.0","imageID":"docker-pullable://nats@sha256:5e25736ee9eea5f8d78ebb75db5b94d1c5f790712cddb6b203a360cba48066c6","lastState":{},"name":"nats","ready":true,"restartCount":0,"state":{"running":{"startedAt":"2020-10-13T09:04:31Z"}}}],"hostIP":"172.31.181.105","phase":"Running","podIP":"100.96.29.93","qosClass":"BestEffort","startTime":"2020-10-13T09:04:29Z"}},{"apiVersion":"v1","kind":"Pod","metadata":{"annotations":{"cni.projectcalico.org/podIP":"100.96.29.94/32","nats.version":"1.4.0"},"creationTimestamp":"2020-10-13T09:04:39Z","labels":{"app":"nats","nats_cluster":"devtron-nats","nats_version":"1.4.0"},"name":"devtron-nats-3","namespace":"devtroncd","ownerReferences":[{"apiVersion":"nats.io/v1alpha2","controller":true,"kind":"NatsCluster","name":"devtron-nats","uid":"d0d2c717-9b6f-11ea-9e9f-02d9ecfd9bc6"}],"resourceVersion":"40358435","selfLink":"/api/v1/namespaces/devtroncd/pods/devtron-nats-3","uid":"1fded293-0d33-11eb-9c05-02adf247d5d4"},"spec":{"containers":[{"command":["/gnatsd","-c","/etc/nats-config/nats.conf","-P","/var/run/nats/gnatsd.pid","--cluster_advertise","devtron-nats-3.devtron-nats-mgmt.devtroncd.svc","--connect_retries","10"],"env":[{"name":"SVC","value":"devtron-nats-mgmt"},{"name":"EXTRA","value":"--http_port=8222"}],"image":"nats:1.4.0","imagePullPolicy":"IfNotPresent","livenessProbe":{"failureThreshold":3,"httpGet":{"path":"/","port":8222,"scheme":"HTTP"},"initialDelaySeconds":10,"periodSeconds":60,"successThreshold":1,"timeoutSeconds":10},"name":"nats","ports":[{"containerPort":6222,"name":"cluster","protocol":"TCP"},{"containerPort":8222,"name":"monitoring","protocol":"TCP"},{"containerPort":4222,"name":"client","protocol":"TCP"}],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/etc/nats-config","name":"nats-config"},{"mountPath":"/var/run/nats","name":"pid"},{"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","name":"default-token-k6hks","readOnly":true}]}],"dnsPolicy":"ClusterFirst","hostname":"devtron-nats-3","nodeName":"ip-172-31-181-105.us-east-2.compute.internal","priority":0,"restartPolicy":"Never","schedulerName":"default-scheduler","securityContext":{},"serviceAccount":"default","serviceAccountName":"default","subdomain":"devtron-nats-mgmt","terminationGracePeriodSeconds":30,"tolerations":[{"effect":"NoExecute","key":"node.kubernetes.io/not-ready","operator":"Exists","tolerationSeconds":300},{"effect":"NoExecute","key":"node.kubernetes.io/unreachable","operator":"Exists","tolerationSeconds":300}],"volumes":[{"name":"nats-config","secret":{"defaultMode":420,"secretName":"devtron-nats"}},{"emptyDir":{},"name":"pid"},{"name":"default-token-k6hks","secret":{"defaultMode":420,"secretName":"default-token-k6hks"}}]},"status":{"conditions":[{"lastProbeTime":null,"lastTransitionTime":"2020-10-13T09:04:39Z","status":"True","type":"Initialized"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-13T09:04:41Z","status":"True","type":"Ready"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-13T09:04:41Z","status":"True","type":"ContainersReady"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-13T09:04:39Z","status":"True","type":"PodScheduled"}],"containerStatuses":[{"containerID":"docker://bb0a9babb00d6c1d36d6e80c2c9e784a6f3b81409f7c86dc04985176009357c8","image":"nats:1.4.0","imageID":"docker-pullable://nats@sha256:5e25736ee9eea5f8d78ebb75db5b94d1c5f790712cddb6b203a360cba48066c6","lastState":{},"name":"nats","ready":true,"restartCount":0,"state":{"running":{"startedAt":"2020-10-13T09:04:41Z"}}}],"hostIP":"172.31.181.105","phase":"Running","podIP":"100.96.29.94","qosClass":"BestEffort","startTime":"2020-10-13T09:04:39Z"}},{"apiVersion":"v1","kind":"Pod","metadata":{"annotations":{"cni.projectcalico.org/podIP":"100.96.40.101/32"},"creationTimestamp":"2020-10-26T03:40:18Z","generateName":"devtron-orchestrator-demo-devtroncd-687f9dcccf-","labels":{"app":"devtron-orchestrator","appId":"200","envId":"7","release":"devtron-orchestrator-demo-devtroncd","rollouts-pod-template-hash":"687f9dcccf"},"name":"devtron-orchestrator-demo-devtroncd-687f9dcccf-h8mzk","namespace":"devtroncd","ownerReferences":[{"apiVersion":"apps/v1","blockOwnerDeletion":true,"controller":true,"kind":"ReplicaSet","name":"devtron-orchestrator-demo-devtroncd-687f9dcccf","uid":"761c00c2-16d6-11eb-9c05-02adf247d5d4"}],"resourceVersion":"44822559","selfLink":"/api/v1/namespaces/devtroncd/pods/devtron-orchestrator-demo-devtroncd-687f9dcccf-h8mzk","uid":"f769861e-173c-11eb-9c05-02adf247d5d4"},"spec":{"containers":[{"env":[{"name":"CONFIG_HASH","value":"4366cebc73f6a4c73913b2f8162efa648e53228879313d62c340e18fc7a7a45e"},{"name":"SECRET_HASH","value":"5958e3cbe09f336fa96a64170abcc77ca8ff058449c334549edaabc3262659db"},{"name":"DEVTRON_APP_NAME","value":"devtron-orchestrator"},{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}}],"envFrom":[{"configMapRef":{"name":"cm1-200"}},{"secretRef":{"name":"cs1-200"}}],"image":"686244538589.dkr.ecr.us-east-2.amazonaws.com/devtron:d3e41309-127-2046","imagePullPolicy":"IfNotPresent","name":"devtron-orchestrator","ports":[{"containerPort":8080,"name":"orchestrator","protocol":"TCP"}],"resources":{"limits":{"cpu":"500m","memory":"500Mi"},"requests":{"cpu":"200m","memory":"100Mi"}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","name":"orchestrator-token-kg69l","readOnly":true}]}],"dnsPolicy":"ClusterFirst","nodeName":"ip-172-31-183-218.us-east-2.compute.internal","priority":0,"restartPolicy":"Always","schedulerName":"default-scheduler","securityContext":{},"serviceAccount":"orchestrator","serviceAccountName":"orchestrator","terminationGracePeriodSeconds":30,"tolerations":[{"effect":"NoExecute","key":"node.kubernetes.io/not-ready","operator":"Exists","tolerationSeconds":300},{"effect":"NoExecute","key":"node.kubernetes.io/unreachable","operator":"Exists","tolerationSeconds":300}],"volumes":[{"name":"orchestrator-token-kg69l","secret":{"defaultMode":420,"secretName":"orchestrator-token-kg69l"}}]},"status":{"conditions":[{"lastProbeTime":null,"lastTransitionTime":"2020-10-26T03:40:18Z","status":"True","type":"Initialized"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-26T03:40:20Z","status":"True","type":"Ready"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-26T03:40:20Z","status":"True","type":"ContainersReady"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-26T03:40:18Z","status":"True","type":"PodScheduled"}],"containerStatuses":[{"containerID":"docker://e8b8ee3283b01bcbb6610de31e27849ba0642b99ec58ea066972299b738f75e8","image":"686244538589.dkr.ecr.us-east-2.amazonaws.com/devtron:d3e41309-127-2046","imageID":"docker-pullable://686244538589.dkr.ecr.us-east-2.amazonaws.com/devtron@sha256:67fae6260830676ba796147a434ccba196f5d3c7a44bce3a3fcb31785a12491d","lastState":{},"name":"devtron-orchestrator","ready":true,"restartCount":0,"state":{"running":{"startedAt":"2020-10-26T03:40:19Z"}}}],"hostIP":"172.31.183.218","phase":"Running","podIP":"100.96.40.101","qosClass":"Burstable","startTime":"2020-10-26T03:40:18Z"}},{"apiVersion":"v1","kind":"Pod","metadata":{"annotations":{"cni.projectcalico.org/podIP":"100.96.36.147/32"},"creationTimestamp":"2020-09-25T16:22:03Z","generateName":"external-secrets-kubernetes-external-secrets-579ddf5ff4-","labels":{"app.kubernetes.io/instance":"external-secrets","app.kubernetes.io/name":"kubernetes-external-secrets","pod-template-hash":"579ddf5ff4"},"name":"external-secrets-kubernetes-external-secrets-579ddf5ff4-rrlbh","namespace":"devtroncd","ownerReferences":[{"apiVersion":"apps/v1","blockOwnerDeletion":true,"controller":true,"kind":"ReplicaSet","name":"external-secrets-kubernetes-external-secrets-579ddf5ff4","uid":"4520586e-e1df-11ea-8d53-0212400c98ac"}],"resourceVersion":"42328705","selfLink":"/api/v1/namespaces/devtroncd/pods/external-secrets-kubernetes-external-secrets-579ddf5ff4-rrlbh","uid":"3f623f69-ff4b-11ea-9c05-02adf247d5d4"},"spec":{"containers":[{"env":[{"name":"AWS_REGION","value":"us-west-2"},{"name":"LOG_LEVEL","value":"info"},{"name":"METRICS_PORT","value":"3001"},{"name":"POLLER_INTERVAL_MILLISECONDS","value":"10000"},{"name":"VAULT_ADDR","value":"http://127.0.0.1:8200"}],"image":"686244538589.dkr.ecr.us-east-2.amazonaws.com/release/kubernetes-external-secrets:2.2.1","imagePullPolicy":"IfNotPresent","name":"kubernetes-external-secrets","resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","name":"external-secrets-kubernetes-external-secrets-token-6rm99","readOnly":true}]}],"dnsPolicy":"ClusterFirst","nodeName":"ip-172-31-180-193.us-east-2.compute.internal","priority":0,"restartPolicy":"Always","schedulerName":"default-scheduler","securityContext":{},"serviceAccount":"external-secrets-kubernetes-external-secrets","serviceAccountName":"external-secrets-kubernetes-external-secrets","terminationGracePeriodSeconds":30,"tolerations":[{"effect":"NoExecute","key":"node.kubernetes.io/not-ready","operator":"Exists","tolerationSeconds":300},{"effect":"NoExecute","key":"node.kubernetes.io/unreachable","operator":"Exists","tolerationSeconds":300}],"volumes":[{"name":"external-secrets-kubernetes-external-secrets-token-6rm99","secret":{"defaultMode":420,"secretName":"external-secrets-kubernetes-external-secrets-token-6rm99"}}]},"status":{"conditions":[{"lastProbeTime":null,"lastTransitionTime":"2020-09-25T16:22:04Z","status":"True","type":"Initialized"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-19T00:35:06Z","status":"True","type":"Ready"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-19T00:35:06Z","status":"True","type":"ContainersReady"},{"lastProbeTime":null,"lastTransitionTime":"2020-09-25T16:22:03Z","status":"True","type":"PodScheduled"}],"containerStatuses":[{"containerID":"docker://c3c957a7620584ff6e6c01633644e8a0bd0500c393187695c9c5b211726d3d65","image":"686244538589.dkr.ecr.us-east-2.amazonaws.com/release/kubernetes-external-secrets:2.2.1","imageID":"docker-pullable://686244538589.dkr.ecr.us-east-2.amazonaws.com/release/kubernetes-external-secrets@sha256:b6a6e43edbb840c74e7f0d89a0db868ed9ca67b4cdd026786283d8d451a43fe1","lastState":{"terminated":{"containerID":"docker://ae6dc3fb58925c73cd60f31df5b62dbbfc1af586af610017456d5d6bbb8e43e2","exitCode":0,"finishedAt":"2020-10-19T00:31:15Z","reason":"Completed","startedAt":"2020-10-15T12:39:11Z"}},"name":"kubernetes-external-secrets","ready":true,"restartCount":3,"state":{"running":{"startedAt":"2020-10-19T00:33:48Z"}}}],"hostIP":"172.31.180.193","phase":"Running","podIP":"100.96.36.147","qosClass":"BestEffort","startTime":"2020-09-25T16:22:04Z"}},{"apiVersion":"v1","kind":"Pod","metadata":{"annotations":{"cni.projectcalico.org/podIP":"100.96.29.89/32"},"creationTimestamp":"2020-10-13T09:04:05Z","generateName":"git-sensor-","labels":{"app":"git-sensor","controller-revision-hash":"git-sensor-5677f8c946","statefulset.kubernetes.io/pod-name":"git-sensor-0"},"name":"git-sensor-0","namespace":"devtroncd","ownerReferences":[{"apiVersion":"apps/v1","blockOwnerDeletion":true,"controller":true,"kind":"StatefulSet","name":"git-sensor","uid":"7d8ad4d3-f425-11ea-9c05-02adf247d5d4"}],"resourceVersion":"40358483","selfLink":"/api/v1/namespaces/devtroncd/pods/git-sensor-0","uid":"0bd5e504-0d33-11eb-9c05-02adf247d5d4"},"spec":{"containers":[{"env":[{"name":"PG_ADDR","value":"postgresql-postgresql.devtroncd"},{"name":"PG_PASS","value":"devtronpg"}],"image":"686244538589.dkr.ecr.us-east-2.amazonaws.com/release/git-sensor:54818eb3-115-1838","imagePullPolicy":"IfNotPresent","name":"git-sensor","ports":[{"containerPort":8080,"name":"sensor","protocol":"TCP"}],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/git-base/","name":"git-volume"},{"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","name":"default-token-k6hks","readOnly":true}]}],"dnsPolicy":"ClusterFirst","hostname":"git-sensor-0","nodeName":"ip-172-31-181-105.us-east-2.compute.internal","priority":0,"restartPolicy":"Always","schedulerName":"default-scheduler","securityContext":{},"serviceAccount":"default","serviceAccountName":"default","subdomain":"git-sensor","terminationGracePeriodSeconds":10,"tolerations":[{"effect":"NoExecute","key":"node.kubernetes.io/not-ready","operator":"Exists","tolerationSeconds":300},{"effect":"NoExecute","key":"node.kubernetes.io/unreachable","operator":"Exists","tolerationSeconds":300}],"volumes":[{"name":"git-volume","persistentVolumeClaim":{"claimName":"git-volume-git-sensor-0"}},{"name":"default-token-k6hks","secret":{"defaultMode":420,"secretName":"default-token-k6hks"}}]},"status":{"conditions":[{"lastProbeTime":null,"lastTransitionTime":"2020-10-13T09:04:05Z","status":"True","type":"Initialized"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-13T09:05:01Z","status":"True","type":"Ready"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-13T09:05:01Z","status":"True","type":"ContainersReady"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-13T09:04:05Z","status":"True","type":"PodScheduled"}],"containerStatuses":[{"containerID":"docker://16fdab0b579296920142894498ea8a86e469b83f1be08b104ad32eccb1705757","image":"686244538589.dkr.ecr.us-east-2.amazonaws.com/release/git-sensor:54818eb3-115-1838","imageID":"docker-pullable://686244538589.dkr.ecr.us-east-2.amazonaws.com/release/git-sensor@sha256:aa3535e7daadb4af8f7bc1d6ea13262ad25b3fd1c44f77003805dc7a78a832d2","lastState":{"terminated":{"containerID":"docker://b97fb2f7b625318846393c9a8c4bb71fbfe8b93191174cbf925dbfc61f1e0c83","exitCode":2,"finishedAt":"2020-10-13T09:04:34Z","reason":"Error","startedAt":"2020-10-13T09:04:32Z"}},"name":"git-sensor","ready":true,"restartCount":3,"state":{"running":{"startedAt":"2020-10-13T09:05:00Z"}}}],"hostIP":"172.31.181.105","phase":"Running","podIP":"100.96.29.89","qosClass":"BestEffort","startTime":"2020-10-13T09:04:05Z"}},{"apiVersion":"v1","kind":"Pod","metadata":{"annotations":{"cni.projectcalico.org/podIP":"100.96.40.84/32"},"creationTimestamp":"2020-10-23T08:23:30Z","generateName":"image-scanner-github-demo-devtroncd-f6b66b6b7-","labels":{"app":"image-scanner-github","appId":"197","envId":"7","release":"image-scanner-github-demo-devtroncd","rollouts-pod-template-hash":"f6b66b6b7"},"name":"image-scanner-github-demo-devtroncd-f6b66b6b7-vdwkm","namespace":"devtroncd","ownerReferences":[{"apiVersion":"apps/v1","blockOwnerDeletion":true,"controller":true,"kind":"ReplicaSet","name":"image-scanner-github-demo-devtroncd-f6b66b6b7","uid":"084cfd12-1509-11eb-9c05-02adf247d5d4"}],"resourceVersion":"43837387","selfLink":"/api/v1/namespaces/devtroncd/pods/image-scanner-github-demo-devtroncd-f6b66b6b7-vdwkm","uid":"084ebcfd-1509-11eb-9c05-02adf247d5d4"},"spec":{"containers":[{"env":[{"name":"CONFIG_HASH","value":"63d90954db09434c98edfb36f1022f1bb0b5b52442ba43da608bf0cf6e256496"},{"name":"SECRET_HASH","value":"9882fc2dc7fb24f5f83821d3eb66cb39e1a6c4237e1fc877c461a535afc93d37"},{"name":"DEVTRON_APP_NAME","value":"image-scanner-github"},{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}}],"envFrom":[{"configMapRef":{"name":"cm1-197"}},{"secretRef":{"name":"cs1-197"}}],"image":"686244538589.dkr.ecr.us-east-2.amazonaws.com/devtron:790a240a-123-2033","imagePullPolicy":"IfNotPresent","name":"image-scanner-github","ports":[{"containerPort":8080,"name":"app","protocol":"TCP"}],"resources":{"limits":{"cpu":"50m","memory":"50Mi"},"requests":{"cpu":"10m","memory":"10Mi"}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","name":"default-token-k6hks","readOnly":true}]}],"dnsPolicy":"ClusterFirst","nodeName":"ip-172-31-183-218.us-east-2.compute.internal","priority":0,"restartPolicy":"Always","schedulerName":"default-scheduler","securityContext":{},"serviceAccount":"default","serviceAccountName":"default","terminationGracePeriodSeconds":30,"tolerations":[{"effect":"NoExecute","key":"node.kubernetes.io/not-ready","operator":"Exists","tolerationSeconds":300},{"effect":"NoExecute","key":"node.kubernetes.io/unreachable","operator":"Exists","tolerationSeconds":300}],"volumes":[{"name":"default-token-k6hks","secret":{"defaultMode":420,"secretName":"default-token-k6hks"}}]},"status":{"conditions":[{"lastProbeTime":null,"lastTransitionTime":"2020-10-23T08:23:30Z","status":"True","type":"Initialized"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-23T08:23:33Z","status":"True","type":"Ready"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-23T08:23:33Z","status":"True","type":"ContainersReady"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-23T08:23:30Z","status":"True","type":"PodScheduled"}],"containerStatuses":[{"containerID":"docker://1bb93d994d83bd0adcacce37fbe130eeec7d947b2100858a57546323c8d998f8","image":"686244538589.dkr.ecr.us-east-2.amazonaws.com/devtron:790a240a-123-2033","imageID":"docker-pullable://686244538589.dkr.ecr.us-east-2.amazonaws.com/devtron@sha256:1a6434f6b022f0be0bba313dff0563e481f549cd92d0c758ce268befe93f5a11","lastState":{},"name":"image-scanner-github","ready":true,"restartCount":0,"state":{"running":{"startedAt":"2020-10-23T08:23:32Z"}}}],"hostIP":"172.31.183.218","phase":"Running","podIP":"100.96.40.84","qosClass":"Burstable","startTime":"2020-10-23T08:23:30Z"}},{"apiVersion":"v1","kind":"Pod","metadata":{"annotations":{"checksum/config-map":"ae58540f4f666750bf92d3af7f94dbccd3bbea95fe76308c7572469c36d55bdc","cni.projectcalico.org/podIP":"100.96.40.99/32"},"creationTimestamp":"2020-10-26T03:40:17Z","generateName":"kubewatch-75c5d8ff86-","labels":{"app":"kubewatch","chart":"kubewatch-0.6.1","pod-template-hash":"75c5d8ff86","release":"kubewatch"},"name":"kubewatch-75c5d8ff86-g9z68","namespace":"devtroncd","ownerReferences":[{"apiVersion":"apps/v1","blockOwnerDeletion":true,"controller":true,"kind":"ReplicaSet","name":"kubewatch-75c5d8ff86","uid":"197b4405-ee13-11ea-9c05-02adf247d5d4"}],"resourceVersion":"44822546","selfLink":"/api/v1/namespaces/devtroncd/pods/kubewatch-75c5d8ff86-g9z68","uid":"f708ea40-173c-11eb-9c05-02adf247d5d4"},"spec":{"containers":[{"env":[{"name":"DEFAULT_NAMESPACE","value":"devtron-ci"},{"name":"CI_INFORMER","value":"true"},{"name":"ACD_NAMESPACE","value":"devtroncd"},{"name":"ACD_INFORMER","value":"true"}],"image":"686244538589.dkr.ecr.us-east-2.amazonaws.com/release/kubewatch:a85ea237-21-87","imagePullPolicy":"Always","name":"kubewatch","resources":{"limits":{"cpu":"100m","memory":"128Mi"},"requests":{"cpu":"100m","memory":"128Mi"}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/root/.kubewatch.yaml","name":"kubewatch-config-map","subPath":".kubewatch.yaml"},{"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","name":"kubewatch-token-4c9fb","readOnly":true}]}],"dnsPolicy":"ClusterFirst","nodeName":"ip-172-31-183-218.us-east-2.compute.internal","priority":0,"restartPolicy":"Always","schedulerName":"default-scheduler","securityContext":{},"serviceAccount":"kubewatch","serviceAccountName":"kubewatch","terminationGracePeriodSeconds":30,"tolerations":[{"effect":"NoExecute","key":"node.kubernetes.io/not-ready","operator":"Exists","tolerationSeconds":300},{"effect":"NoExecute","key":"node.kubernetes.io/unreachable","operator":"Exists","tolerationSeconds":300}],"volumes":[{"configMap":{"defaultMode":420,"name":"kubewatch-config"},"name":"kubewatch-config-map"},{"name":"kubewatch-token-4c9fb","secret":{"defaultMode":420,"secretName":"kubewatch-token-4c9fb"}}]},"status":{"conditions":[{"lastProbeTime":null,"lastTransitionTime":"2020-10-26T03:40:17Z","status":"True","type":"Initialized"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-26T03:40:20Z","status":"True","type":"Ready"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-26T03:40:20Z","status":"True","type":"ContainersReady"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-26T03:40:17Z","status":"True","type":"PodScheduled"}],"containerStatuses":[{"containerID":"docker://1d61d577aa22323838e0e7387807de5e76b6de49b0e0d22e860802d28ea1a0e5","image":"686244538589.dkr.ecr.us-east-2.amazonaws.com/release/kubewatch:a85ea237-21-87","imageID":"docker-pullable://686244538589.dkr.ecr.us-east-2.amazonaws.com/release/kubewatch@sha256:ebf99400e206206b862b6c8cddf46d29c4785733bffa30ae5be9ebc37bdb6b5a","lastState":{},"name":"kubewatch","ready":true,"restartCount":0,"state":{"running":{"startedAt":"2020-10-26T03:40:19Z"}}}],"hostIP":"172.31.183.218","phase":"Running","podIP":"100.96.40.99","qosClass":"Guaranteed","startTime":"2020-10-26T03:40:17Z"}},{"apiVersion":"v1","kind":"Pod","metadata":{"annotations":{"cni.projectcalico.org/podIP":"100.96.40.85/32"},"creationTimestamp":"2020-10-23T08:25:35Z","generateName":"lens-github-demo-devtroncd-559d6c9799-","labels":{"app":"lens-github","appId":"199","envId":"7","release":"lens-github-demo-devtroncd","rollouts-pod-template-hash":"559d6c9799"},"name":"lens-github-demo-devtroncd-559d6c9799-96jg5","namespace":"devtroncd","ownerReferences":[{"apiVersion":"apps/v1","blockOwnerDeletion":true,"controller":true,"kind":"ReplicaSet","name":"lens-github-demo-devtroncd-559d6c9799","uid":"52f105c5-1509-11eb-9c05-02adf247d5d4"}],"resourceVersion":"43837925","selfLink":"/api/v1/namespaces/devtroncd/pods/lens-github-demo-devtroncd-559d6c9799-96jg5","uid":"52f2442a-1509-11eb-9c05-02adf247d5d4"},"spec":{"containers":[{"env":[{"name":"CONFIG_HASH","value":"7f3eb510925921df2304ce3e6bae4d4545afa0be782a82c0d066665c6f942ccf"},{"name":"SECRET_HASH","value":"c549f5d8bffc204fb983fd7ba3984081492d308702fbc8cfc77916b22e5fef77"},{"name":"DEVTRON_APP_NAME","value":"lens-github"},{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}}],"envFrom":[{"configMapRef":{"name":"cm1-199"}},{"secretRef":{"name":"cs1-199"}}],"image":"686244538589.dkr.ecr.us-east-2.amazonaws.com/devtron:eac952cf-125-2035","imagePullPolicy":"IfNotPresent","name":"lens-github","ports":[{"containerPort":8080,"name":"app","protocol":"TCP"}],"resources":{"limits":{"cpu":"50m","memory":"50Mi"},"requests":{"cpu":"10m","memory":"10Mi"}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","name":"default-token-k6hks","readOnly":true}]}],"dnsPolicy":"ClusterFirst","nodeName":"ip-172-31-183-218.us-east-2.compute.internal","priority":0,"restartPolicy":"Always","schedulerName":"default-scheduler","securityContext":{},"serviceAccount":"default","serviceAccountName":"default","terminationGracePeriodSeconds":30,"tolerations":[{"effect":"NoExecute","key":"node.kubernetes.io/not-ready","operator":"Exists","tolerationSeconds":300},{"effect":"NoExecute","key":"node.kubernetes.io/unreachable","operator":"Exists","tolerationSeconds":300}],"volumes":[{"name":"default-token-k6hks","secret":{"defaultMode":420,"secretName":"default-token-k6hks"}}]},"status":{"conditions":[{"lastProbeTime":null,"lastTransitionTime":"2020-10-23T08:25:35Z","status":"True","type":"Initialized"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-23T08:25:38Z","status":"True","type":"Ready"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-23T08:25:38Z","status":"True","type":"ContainersReady"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-23T08:25:35Z","status":"True","type":"PodScheduled"}],"containerStatuses":[{"containerID":"docker://c0a157962d84e9458aff6742a0fb99609b6c609f3ea2e6a060a725c35f067d34","image":"686244538589.dkr.ecr.us-east-2.amazonaws.com/devtron:eac952cf-125-2035","imageID":"docker-pullable://686244538589.dkr.ecr.us-east-2.amazonaws.com/devtron@sha256:a1c5ac0a2bb7ef1031dd5e0956ed628eda095efa2a8e606f2b59e91213e2ade0","lastState":{},"name":"lens-github","ready":true,"restartCount":0,"state":{"running":{"startedAt":"2020-10-23T08:25:37Z"}}}],"hostIP":"172.31.183.218","phase":"Running","podIP":"100.96.40.85","qosClass":"Burstable","startTime":"2020-10-23T08:25:35Z"}},{"apiVersion":"v1","kind":"Pod","metadata":{"annotations":{"cni.projectcalico.org/podIP":"100.96.40.100/32"},"creationTimestamp":"2020-10-26T03:40:17Z","generateName":"nats-operator-8745f765b-","labels":{"name":"nats-operator","pod-template-hash":"8745f765b"},"name":"nats-operator-8745f765b-k7b7f","namespace":"devtroncd","ownerReferences":[{"apiVersion":"apps/v1","blockOwnerDeletion":true,"controller":true,"kind":"ReplicaSet","name":"nats-operator-8745f765b","uid":"4524cf77-e1df-11ea-8d53-0212400c98ac"}],"resourceVersion":"44822597","selfLink":"/api/v1/namespaces/devtroncd/pods/nats-operator-8745f765b-k7b7f","uid":"f7390344-173c-11eb-9c05-02adf247d5d4"},"spec":{"containers":[{"args":["nats-operator"],"env":[{"name":"MY_POD_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"MY_POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}}],"image":"connecteverything/nats-operator:0.5.0-v1alpha2","imagePullPolicy":"IfNotPresent","name":"nats-operator","ports":[{"containerPort":8080,"name":"readyz","protocol":"TCP"}],"readinessProbe":{"failureThreshold":3,"httpGet":{"path":"/readyz","port":"readyz","scheme":"HTTP"},"initialDelaySeconds":15,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":3},"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","name":"nats-operator-token-79njg","readOnly":true}]}],"dnsPolicy":"ClusterFirst","nodeName":"ip-172-31-183-218.us-east-2.compute.internal","priority":0,"restartPolicy":"Always","schedulerName":"default-scheduler","securityContext":{},"serviceAccount":"nats-operator","serviceAccountName":"nats-operator","terminationGracePeriodSeconds":30,"tolerations":[{"effect":"NoExecute","key":"node.kubernetes.io/not-ready","operator":"Exists","tolerationSeconds":300},{"effect":"NoExecute","key":"node.kubernetes.io/unreachable","operator":"Exists","tolerationSeconds":300}],"volumes":[{"name":"nats-operator-token-79njg","secret":{"defaultMode":420,"secretName":"nats-operator-token-79njg"}}]},"status":{"conditions":[{"lastProbeTime":null,"lastTransitionTime":"2020-10-26T03:40:17Z","status":"True","type":"Initialized"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-26T03:40:36Z","status":"True","type":"Ready"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-26T03:40:36Z","status":"True","type":"ContainersReady"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-26T03:40:17Z","status":"True","type":"PodScheduled"}],"containerStatuses":[{"containerID":"docker://1b6432c9a6606f20315bc9783745d420f1b2199304c562f9356c89a9a6fc3d75","image":"connecteverything/nats-operator:0.5.0-v1alpha2","imageID":"docker-pullable://connecteverything/nats-operator@sha256:d218a0a1aceb2d90de51708f5589660510fa1a16a8bf9798a13a742cf6b5b6ff","lastState":{},"name":"nats-operator","ready":true,"restartCount":0,"state":{"running":{"startedAt":"2020-10-26T03:40:19Z"}}}],"hostIP":"172.31.183.218","phase":"Running","podIP":"100.96.40.100","qosClass":"BestEffort","startTime":"2020-10-26T03:40:17Z"}},{"apiVersion":"v1","kind":"Pod","metadata":{"annotations":{"cni.projectcalico.org/podIP":"100.96.40.69/32","prometheus.io/port":"7777","prometheus.io/scrape":"true"},"creationTimestamp":"2020-10-21T10:10:27Z","generateName":"nats-streaming-demo-devtroncd-nats-streaming-","labels":{"app":"nats-streaming","chart":"nats-streaming-0.3.0","controller-revision-hash":"nats-streaming-demo-devtroncd-nats-streaming-747bbbd79c","release":"nats-streaming-demo-devtroncd","statefulset.kubernetes.io/pod-name":"nats-streaming-demo-devtroncd-nats-streaming-0"},"name":"nats-streaming-demo-devtroncd-nats-streaming-0","namespace":"devtroncd","ownerReferences":[{"apiVersion":"apps/v1","blockOwnerDeletion":true,"controller":true,"kind":"StatefulSet","name":"nats-streaming-demo-devtroncd-nats-streaming","uid":"d3181897-9b6f-11ea-9e9f-02d9ecfd9bc6"}],"resourceVersion":"43163498","selfLink":"/api/v1/namespaces/devtroncd/pods/nats-streaming-demo-devtroncd-nats-streaming-0","uid":"a48918ee-1385-11eb-9c05-02adf247d5d4"},"spec":{"affinity":{"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"nats-streaming","release":"nats-streaming-demo-devtroncd"}},"topologyKey":"kubernetes.io/hostname"},"weight":1}]}},"containers":[{"args":["-clustered","-cid","devtron-stan","-m","8222","-ns","nats://devtron-nats.devtroncd:4222","-mc","0","-msu","0","-mm","0","-mb","0","-ma","604800s","-hbi","30s","-hbt","10s","-hbf","330","--cluster_node_id","$(POD_NAME)","--cluster_peers","nats-streaming-demo-devtroncd-nats-streaming-0,nats-streaming-demo-devtroncd-nats-streaming-1,nats-streaming-demo-devtroncd-nats-streaming-2","--store","file","--dir","/nats/devtron-stan/$(POD_NAME)/data","--cluster_log_path","/nats/devtron-stan/$(POD_NAME)/raft","--file_compact_enabled","--file_compact_frag","50","--file_compact_interval","300","--file_compact_min_size","1048576","--file_buffer_size","2097152","--file_crc","--file_crc_poly","3988292384","--file_sync","--file_slice_max_msgs","0","--file_slice_max_bytes","67108931","--file_slice_max_age","0","--file_fds_limit","0","--file_parallel_recovery","1"],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}}],"image":"docker.io/nats-streaming:0.11.2","imagePullPolicy":"IfNotPresent","livenessProbe":{"failureThreshold":6,"httpGet":{"path":"/","port":"monitoring","scheme":"HTTP"},"initialDelaySeconds":30,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":5},"name":"nats-streaming","ports":[{"containerPort":8222,"name":"monitoring","protocol":"TCP"}],"readinessProbe":{"failureThreshold":6,"httpGet":{"path":"/","port":"monitoring","scheme":"HTTP"},"initialDelaySeconds":5,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":5},"resources":{"limits":{"cpu":"100m","memory":"128Mi"},"requests":{"cpu":"100m","memory":"64Mi"}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/nats","name":"datadir"},{"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","name":"default-token-k6hks","readOnly":true}]},{"args":["-D","-channelz","-connz","-gatewayz","-routez","-serverz","-subz","-varz","http://localhost:8222"],"image":"docker.io/synadia/prometheus-nats-exporter:0.6.2","imagePullPolicy":"IfNotPresent","livenessProbe":{"failureThreshold":3,"httpGet":{"path":"/metrics","port":"metrics","scheme":"HTTP"},"initialDelaySeconds":15,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":5},"name":"metrics","ports":[{"containerPort":7777,"name":"metrics","protocol":"TCP"}],"readinessProbe":{"failureThreshold":3,"httpGet":{"path":"/metrics","port":"metrics","scheme":"HTTP"},"initialDelaySeconds":5,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":1},"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","name":"default-token-k6hks","readOnly":true}]}],"dnsPolicy":"ClusterFirst","hostname":"nats-streaming-demo-devtroncd-nats-streaming-0","nodeName":"ip-172-31-183-218.us-east-2.compute.internal","priority":0,"restartPolicy":"Always","schedulerName":"default-scheduler","securityContext":{},"serviceAccount":"default","serviceAccountName":"default","subdomain":"devtron-nats","terminationGracePeriodSeconds":30,"tolerations":[{"effect":"NoExecute","key":"node.kubernetes.io/not-ready","operator":"Exists","tolerationSeconds":300},{"effect":"NoExecute","key":"node.kubernetes.io/unreachable","operator":"Exists","tolerationSeconds":300}],"volumes":[{"emptyDir":{},"name":"datadir"},{"name":"default-token-k6hks","secret":{"defaultMode":420,"secretName":"default-token-k6hks"}}]},"status":{"conditions":[{"lastProbeTime":null,"lastTransitionTime":"2020-10-21T10:10:27Z","status":"True","type":"Initialized"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-21T10:10:41Z","status":"True","type":"Ready"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-21T10:10:41Z","status":"True","type":"ContainersReady"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-21T10:10:27Z","status":"True","type":"PodScheduled"}],"containerStatuses":[{"containerID":"docker://c6aa3c7ae2480196ee8aa9313bbb36457d3b6a1f82ec769c0c20bfd31c6e9b34","image":"synadia/prometheus-nats-exporter:0.6.2","imageID":"docker-pullable://synadia/prometheus-nats-exporter@sha256:e6a6cfe30f3cbae8bad1e8dd6f6c68f4401e9b563aeb2df73769f1b4dad39a0f","lastState":{},"name":"metrics","ready":true,"restartCount":0,"state":{"running":{"startedAt":"2020-10-21T10:10:30Z"}}},{"containerID":"docker://496f6b9be11f3c0573ffa6423b2968a121b3dd1eb32d0a78e59a7406ae602b97","image":"nats-streaming:0.11.2","imageID":"docker-pullable://nats-streaming@sha256:b25585f075e6578613bd73779efb880e9a47c487ba101c0313272a7ebee38045","lastState":{},"name":"nats-streaming","ready":true,"restartCount":0,"state":{"running":{"startedAt":"2020-10-21T10:10:29Z"}}}],"hostIP":"172.31.183.218","phase":"Running","podIP":"100.96.40.69","qosClass":"Burstable","startTime":"2020-10-21T10:10:27Z"}},{"apiVersion":"v1","kind":"Pod","metadata":{"annotations":{"cni.projectcalico.org/podIP":"100.96.29.90/32","prometheus.io/port":"7777","prometheus.io/scrape":"true"},"creationTimestamp":"2020-10-13T09:04:12Z","generateName":"nats-streaming-demo-devtroncd-nats-streaming-","labels":{"app":"nats-streaming","chart":"nats-streaming-0.3.0","controller-revision-hash":"nats-streaming-demo-devtroncd-nats-streaming-747bbbd79c","release":"nats-streaming-demo-devtroncd","statefulset.kubernetes.io/pod-name":"nats-streaming-demo-devtroncd-nats-streaming-1"},"name":"nats-streaming-demo-devtroncd-nats-streaming-1","namespace":"devtroncd","ownerReferences":[{"apiVersion":"apps/v1","blockOwnerDeletion":true,"controller":true,"kind":"StatefulSet","name":"nats-streaming-demo-devtroncd-nats-streaming","uid":"d3181897-9b6f-11ea-9e9f-02d9ecfd9bc6"}],"resourceVersion":"40358430","selfLink":"/api/v1/namespaces/devtroncd/pods/nats-streaming-demo-devtroncd-nats-streaming-1","uid":"0fedecf1-0d33-11eb-9c05-02adf247d5d4"},"spec":{"affinity":{"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"nats-streaming","release":"nats-streaming-demo-devtroncd"}},"topologyKey":"kubernetes.io/hostname"},"weight":1}]}},"containers":[{"args":["-clustered","-cid","devtron-stan","-m","8222","-ns","nats://devtron-nats.devtroncd:4222","-mc","0","-msu","0","-mm","0","-mb","0","-ma","604800s","-hbi","30s","-hbt","10s","-hbf","330","--cluster_node_id","$(POD_NAME)","--cluster_peers","nats-streaming-demo-devtroncd-nats-streaming-0,nats-streaming-demo-devtroncd-nats-streaming-1,nats-streaming-demo-devtroncd-nats-streaming-2","--store","file","--dir","/nats/devtron-stan/$(POD_NAME)/data","--cluster_log_path","/nats/devtron-stan/$(POD_NAME)/raft","--file_compact_enabled","--file_compact_frag","50","--file_compact_interval","300","--file_compact_min_size","1048576","--file_buffer_size","2097152","--file_crc","--file_crc_poly","3988292384","--file_sync","--file_slice_max_msgs","0","--file_slice_max_bytes","67108931","--file_slice_max_age","0","--file_fds_limit","0","--file_parallel_recovery","1"],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}}],"image":"docker.io/nats-streaming:0.11.2","imagePullPolicy":"IfNotPresent","livenessProbe":{"failureThreshold":6,"httpGet":{"path":"/","port":"monitoring","scheme":"HTTP"},"initialDelaySeconds":30,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":5},"name":"nats-streaming","ports":[{"containerPort":8222,"name":"monitoring","protocol":"TCP"}],"readinessProbe":{"failureThreshold":6,"httpGet":{"path":"/","port":"monitoring","scheme":"HTTP"},"initialDelaySeconds":5,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":5},"resources":{"limits":{"cpu":"100m","memory":"128Mi"},"requests":{"cpu":"100m","memory":"64Mi"}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/nats","name":"datadir"},{"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","name":"default-token-k6hks","readOnly":true}]},{"args":["-D","-channelz","-connz","-gatewayz","-routez","-serverz","-subz","-varz","http://localhost:8222"],"image":"docker.io/synadia/prometheus-nats-exporter:0.6.2","imagePullPolicy":"IfNotPresent","livenessProbe":{"failureThreshold":3,"httpGet":{"path":"/metrics","port":"metrics","scheme":"HTTP"},"initialDelaySeconds":15,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":5},"name":"metrics","ports":[{"containerPort":7777,"name":"metrics","protocol":"TCP"}],"readinessProbe":{"failureThreshold":3,"httpGet":{"path":"/metrics","port":"metrics","scheme":"HTTP"},"initialDelaySeconds":5,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":1},"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","name":"default-token-k6hks","readOnly":true}]}],"dnsPolicy":"ClusterFirst","hostname":"nats-streaming-demo-devtroncd-nats-streaming-1","nodeName":"ip-172-31-181-105.us-east-2.compute.internal","priority":0,"restartPolicy":"Always","schedulerName":"default-scheduler","securityContext":{},"serviceAccount":"default","serviceAccountName":"default","subdomain":"devtron-nats","terminationGracePeriodSeconds":30,"tolerations":[{"effect":"NoExecute","key":"node.kubernetes.io/not-ready","operator":"Exists","tolerationSeconds":300},{"effect":"NoExecute","key":"node.kubernetes.io/unreachable","operator":"Exists","tolerationSeconds":300}],"volumes":[{"emptyDir":{},"name":"datadir"},{"name":"default-token-k6hks","secret":{"defaultMode":420,"secretName":"default-token-k6hks"}}]},"status":{"conditions":[{"lastProbeTime":null,"lastTransitionTime":"2020-10-13T09:04:12Z","status":"True","type":"Initialized"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-13T09:04:45Z","status":"True","type":"Ready"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-13T09:04:45Z","status":"True","type":"ContainersReady"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-13T09:04:12Z","status":"True","type":"PodScheduled"}],"containerStatuses":[{"containerID":"docker://f6ad84bd4db5f33117526858177732852b9f6ab17939642753e6b7c4223aecbf","image":"synadia/prometheus-nats-exporter:0.6.2","imageID":"docker-pullable://synadia/prometheus-nats-exporter@sha256:e6a6cfe30f3cbae8bad1e8dd6f6c68f4401e9b563aeb2df73769f1b4dad39a0f","lastState":{},"name":"metrics","ready":true,"restartCount":0,"state":{"running":{"startedAt":"2020-10-13T09:04:14Z"}}},{"containerID":"docker://8e6ad6d7cbc659d908fc7b923cceabd2d120a4e5c50eb467666e5527308c468d","image":"nats-streaming:0.11.2","imageID":"docker-pullable://nats-streaming@sha256:b25585f075e6578613bd73779efb880e9a47c487ba101c0313272a7ebee38045","lastState":{"terminated":{"containerID":"docker://1ddf6371a6307cb9c3afe46a6ae37fa5eb754da7e3d3aab1b66776eceef763bf","exitCode":1,"finishedAt":"2020-10-13T09:04:18Z","reason":"Error","startedAt":"2020-10-13T09:04:16Z"}},"name":"nats-streaming","ready":true,"restartCount":2,"state":{"running":{"startedAt":"2020-10-13T09:04:36Z"}}}],"hostIP":"172.31.181.105","phase":"Running","podIP":"100.96.29.90","qosClass":"Burstable","startTime":"2020-10-13T09:04:12Z"}},{"apiVersion":"v1","kind":"Pod","metadata":{"annotations":{"cni.projectcalico.org/podIP":"100.96.15.163/32","prometheus.io/port":"7777","prometheus.io/scrape":"true"},"creationTimestamp":"2020-10-08T17:20:24Z","generateName":"nats-streaming-demo-devtroncd-nats-streaming-","labels":{"app":"nats-streaming","chart":"nats-streaming-0.3.0","controller-revision-hash":"nats-streaming-demo-devtroncd-nats-streaming-747bbbd79c","release":"nats-streaming-demo-devtroncd","statefulset.kubernetes.io/pod-name":"nats-streaming-demo-devtroncd-nats-streaming-2"},"name":"nats-streaming-demo-devtroncd-nats-streaming-2","namespace":"devtroncd","ownerReferences":[{"apiVersion":"apps/v1","blockOwnerDeletion":true,"controller":true,"kind":"StatefulSet","name":"nats-streaming-demo-devtroncd-nats-streaming","uid":"d3181897-9b6f-11ea-9e9f-02d9ecfd9bc6"}],"resourceVersion":"44607150","selfLink":"/api/v1/namespaces/devtroncd/pods/nats-streaming-demo-devtroncd-nats-streaming-2","uid":"8cf70f70-098a-11eb-9c05-02adf247d5d4"},"spec":{"affinity":{"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"podAffinityTerm":{"labelSelector":{"matchLabels":{"app":"nats-streaming","release":"nats-streaming-demo-devtroncd"}},"topologyKey":"kubernetes.io/hostname"},"weight":1}]}},"containers":[{"args":["-clustered","-cid","devtron-stan","-m","8222","-ns","nats://devtron-nats.devtroncd:4222","-mc","0","-msu","0","-mm","0","-mb","0","-ma","604800s","-hbi","30s","-hbt","10s","-hbf","330","--cluster_node_id","$(POD_NAME)","--cluster_peers","nats-streaming-demo-devtroncd-nats-streaming-0,nats-streaming-demo-devtroncd-nats-streaming-1,nats-streaming-demo-devtroncd-nats-streaming-2","--store","file","--dir","/nats/devtron-stan/$(POD_NAME)/data","--cluster_log_path","/nats/devtron-stan/$(POD_NAME)/raft","--file_compact_enabled","--file_compact_frag","50","--file_compact_interval","300","--file_compact_min_size","1048576","--file_buffer_size","2097152","--file_crc","--file_crc_poly","3988292384","--file_sync","--file_slice_max_msgs","0","--file_slice_max_bytes","67108931","--file_slice_max_age","0","--file_fds_limit","0","--file_parallel_recovery","1"],"env":[{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}}],"image":"docker.io/nats-streaming:0.11.2","imagePullPolicy":"IfNotPresent","livenessProbe":{"failureThreshold":6,"httpGet":{"path":"/","port":"monitoring","scheme":"HTTP"},"initialDelaySeconds":30,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":5},"name":"nats-streaming","ports":[{"containerPort":8222,"name":"monitoring","protocol":"TCP"}],"readinessProbe":{"failureThreshold":6,"httpGet":{"path":"/","port":"monitoring","scheme":"HTTP"},"initialDelaySeconds":5,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":5},"resources":{"limits":{"cpu":"100m","memory":"128Mi"},"requests":{"cpu":"100m","memory":"64Mi"}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/nats","name":"datadir"},{"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","name":"default-token-k6hks","readOnly":true}]},{"args":["-D","-channelz","-connz","-gatewayz","-routez","-serverz","-subz","-varz","http://localhost:8222"],"image":"docker.io/synadia/prometheus-nats-exporter:0.6.2","imagePullPolicy":"IfNotPresent","livenessProbe":{"failureThreshold":3,"httpGet":{"path":"/metrics","port":"metrics","scheme":"HTTP"},"initialDelaySeconds":15,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":5},"name":"metrics","ports":[{"containerPort":7777,"name":"metrics","protocol":"TCP"}],"readinessProbe":{"failureThreshold":3,"httpGet":{"path":"/metrics","port":"metrics","scheme":"HTTP"},"initialDelaySeconds":5,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":1},"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","name":"default-token-k6hks","readOnly":true}]}],"dnsPolicy":"ClusterFirst","hostname":"nats-streaming-demo-devtroncd-nats-streaming-2","nodeName":"ip-172-31-190-164.us-east-2.compute.internal","priority":0,"restartPolicy":"Always","schedulerName":"default-scheduler","securityContext":{},"serviceAccount":"default","serviceAccountName":"default","subdomain":"devtron-nats","terminationGracePeriodSeconds":30,"tolerations":[{"effect":"NoExecute","key":"node.kubernetes.io/not-ready","operator":"Exists","tolerationSeconds":300},{"effect":"NoExecute","key":"node.kubernetes.io/unreachable","operator":"Exists","tolerationSeconds":300}],"volumes":[{"emptyDir":{},"name":"datadir"},{"name":"default-token-k6hks","secret":{"defaultMode":420,"secretName":"default-token-k6hks"}}]},"status":{"conditions":[{"lastProbeTime":null,"lastTransitionTime":"2020-10-08T17:20:24Z","status":"True","type":"Initialized"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-25T12:57:18Z","status":"True","type":"Ready"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-25T12:57:18Z","status":"True","type":"ContainersReady"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-08T17:20:24Z","status":"True","type":"PodScheduled"}],"containerStatuses":[{"containerID":"docker://aabb6c8e0552f281cac1a0e8d778c29bfcaab648bb95a577fb58bcfc2fb90f03","image":"synadia/prometheus-nats-exporter:0.6.2","imageID":"docker-pullable://synadia/prometheus-nats-exporter@sha256:e6a6cfe30f3cbae8bad1e8dd6f6c68f4401e9b563aeb2df73769f1b4dad39a0f","lastState":{"terminated":{"containerID":"docker://882402d687620e4583d873690115bd438dfe188724038801edf7c42a24517b67","exitCode":2,"finishedAt":"2020-10-25T12:01:27Z","reason":"Error","startedAt":"2020-10-25T11:57:11Z"}},"name":"metrics","ready":true,"restartCount":15,"state":{"running":{"startedAt":"2020-10-25T12:01:29Z"}}},{"containerID":"docker://9062233d7bde26babac04d1b6f437c151e4decb7f5c99c5f10de1c7a6a68d7fa","image":"nats-streaming:0.11.2","imageID":"docker-pullable://nats-streaming@sha256:b25585f075e6578613bd73779efb880e9a47c487ba101c0313272a7ebee38045","lastState":{"terminated":{"containerID":"docker://8b1dead10aa1a6b7b9f916ae129949a7020ec075ea96003e8c73deeb7cf5875d","exitCode":1,"finishedAt":"2020-10-15T09:25:39Z","reason":"Error","startedAt":"2020-10-15T09:25:26Z"}},"name":"nats-streaming","ready":true,"restartCount":2,"state":{"running":{"startedAt":"2020-10-15T09:26:03Z"}}}],"hostIP":"172.31.190.164","phase":"Running","podIP":"100.96.15.163","qosClass":"Burstable","startTime":"2020-10-08T17:20:24Z"}},{"apiVersion":"v1","kind":"Pod","metadata":{"annotations":{"cni.projectcalico.org/podIP":"100.96.36.154/32"},"creationTimestamp":"2020-09-25T16:22:04Z","generateName":"notifier-deploy-demo-devtroncd-c4f6c6cb6-","labels":{"app":"notifier-deploy","appId":"90","envId":"7","release":"notifier-deploy-demo-devtroncd","rollouts-pod-template-hash":"c4f6c6cb6"},"name":"notifier-deploy-demo-devtroncd-c4f6c6cb6-729vn","namespace":"devtroncd","ownerReferences":[{"apiVersion":"apps/v1","blockOwnerDeletion":true,"controller":true,"kind":"ReplicaSet","name":"notifier-deploy-demo-devtroncd-c4f6c6cb6","uid":"ea8a070c-d3eb-11ea-9e9f-02d9ecfd9bc6"}],"resourceVersion":"42328708","selfLink":"/api/v1/namespaces/devtroncd/pods/notifier-deploy-demo-devtroncd-c4f6c6cb6-729vn","uid":"3fa6fb23-ff4b-11ea-9c05-02adf247d5d4"},"spec":{"containers":[{"env":[{"name":"CONFIG_HASH","value":"8ed81c8ace61e880a1a889c12a0bdf24b76b82efc5182cbe93c94f03f4863223"},{"name":"SECRET_HASH","value":"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"},{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}}],"envFrom":[{"configMapRef":{"name":"notifier-cm-90"}}],"image":"686244538589.dkr.ecr.us-east-2.amazonaws.com/release/notifier:cf441c0b-72-1404","imagePullPolicy":"IfNotPresent","name":"notifier-deploy","ports":[{"containerPort":3000,"name":"app","protocol":"TCP"}],"resources":{"limits":{"cpu":"500m","memory":"600Mi"},"requests":{"cpu":"200m","memory":"100Mi"}},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","name":"default-token-k6hks","readOnly":true}]}],"dnsPolicy":"ClusterFirst","nodeName":"ip-172-31-180-193.us-east-2.compute.internal","priority":0,"restartPolicy":"Always","schedulerName":"default-scheduler","securityContext":{},"serviceAccount":"default","serviceAccountName":"default","terminationGracePeriodSeconds":30,"tolerations":[{"effect":"NoExecute","key":"node.kubernetes.io/not-ready","operator":"Exists","tolerationSeconds":300},{"effect":"NoExecute","key":"node.kubernetes.io/unreachable","operator":"Exists","tolerationSeconds":300}],"volumes":[{"name":"default-token-k6hks","secret":{"defaultMode":420,"secretName":"default-token-k6hks"}}]},"status":{"conditions":[{"lastProbeTime":null,"lastTransitionTime":"2020-09-25T16:22:04Z","status":"True","type":"Initialized"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-19T00:35:06Z","status":"True","type":"Ready"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-19T00:35:06Z","status":"True","type":"ContainersReady"},{"lastProbeTime":null,"lastTransitionTime":"2020-09-25T16:22:04Z","status":"True","type":"PodScheduled"}],"containerStatuses":[{"containerID":"docker://1485f7c3765ff4c9d09150474e75f2ba86c5e14952100752f734bf18153182fd","image":"686244538589.dkr.ecr.us-east-2.amazonaws.com/release/notifier:cf441c0b-72-1404","imageID":"docker-pullable://686244538589.dkr.ecr.us-east-2.amazonaws.com/release/notifier@sha256:138de831f3b0b8a1044224ce38b57bde1cf60578fde069c810d725b0861980ee","lastState":{"terminated":{"containerID":"docker://ca47a9912486ebc2622a57f1e74a12f84dd1d7c5978bee88853cc3341f122c9f","exitCode":143,"finishedAt":"2020-10-19T00:31:02Z","reason":"Error","startedAt":"2020-10-15T12:40:00Z"}},"name":"notifier-deploy","ready":true,"restartCount":3,"state":{"running":{"startedAt":"2020-10-19T00:34:57Z"}}}],"hostIP":"172.31.180.193","phase":"Running","podIP":"100.96.36.154","qosClass":"Burstable","startTime":"2020-09-25T16:22:04Z"}},{"apiVersion":"v1","kind":"Pod","metadata":{"annotations":{"cni.projectcalico.org/podIP":"100.96.36.171/32"},"creationTimestamp":"2020-09-11T14:26:01Z","generateName":"postgresql-postgresql-","labels":{"app":"postgresql","chart":"postgresql-5.3.3","controller-revision-hash":"postgresql-postgresql-8465c4448d","heritage":"Tiller","release":"postgresql-demo-devtroncd","role":"master","statefulset.kubernetes.io/pod-name":"postgresql-postgresql-0"},"name":"postgresql-postgresql-0","namespace":"devtroncd","ownerReferences":[{"apiVersion":"apps/v1","blockOwnerDeletion":true,"controller":true,"kind":"StatefulSet","name":"postgresql-postgresql","uid":"dbe7eed7-9b6f-11ea-9e9f-02d9ecfd9bc6"}],"resourceVersion":"42330561","selfLink":"/api/v1/namespaces/devtroncd/pods/postgresql-postgresql-0","uid":"b7d7e53c-f43a-11ea-9c05-02adf247d5d4"},"spec":{"containers":[{"env":[{"name":"BITNAMI_DEBUG","value":"false"},{"name":"POSTGRESQL_PORT_NUMBER","value":"5432"},{"name":"PGDATA","value":"/bitnami/postgresql/data"},{"name":"POSTGRES_USER","value":"postgres"},{"name":"POSTGRES_PASSWORD","valueFrom":{"secretKeyRef":{"key":"postgresql-password","name":"postgresql-postgresql"}}},{"name":"POSTGRES_DB","value":"orchestrator"}],"image":"docker.io/bitnami/postgresql:11.3.0-debian-9-r28","imagePullPolicy":"Always","livenessProbe":{"exec":{"command":["sh","-c","exec pg_isready -U \"postgres\" -d \"orchestrator\" -h 127.0.0.1 -p 5432"]},"failureThreshold":6,"initialDelaySeconds":30,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":5},"name":"postgresql-postgresql","ports":[{"containerPort":5432,"name":"postgresql","protocol":"TCP"}],"readinessProbe":{"exec":{"command":["sh","-c","pg_isready -U \"postgres\" -d \"orchestrator\" -h 127.0.0.1 -p 5432\n[ -f /opt/bitnami/postgresql/tmp/.initialized ]\n"]},"failureThreshold":6,"initialDelaySeconds":5,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":5},"resources":{"requests":{"cpu":"250m","memory":"256Mi"}},"securityContext":{"procMount":"Default","runAsUser":1001},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/docker-entrypoint-initdb.d/","name":"custom-init-scripts"},{"mountPath":"/bitnami/postgresql","name":"data"},{"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","name":"default-token-k6hks","readOnly":true}]},{"env":[{"name":"DATA_SOURCE_URI","value":"127.0.0.1:5432/orchestrator?sslmode=disable"},{"name":"DATA_SOURCE_PASS","valueFrom":{"secretKeyRef":{"key":"postgresql-password","name":"postgresql-postgresql"}}},{"name":"DATA_SOURCE_USER","value":"postgres"}],"image":"docker.io/wrouesnel/postgres_exporter:v0.4.7","imagePullPolicy":"IfNotPresent","livenessProbe":{"failureThreshold":6,"httpGet":{"path":"/","port":"metrics","scheme":"HTTP"},"initialDelaySeconds":5,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":5},"name":"metrics","ports":[{"containerPort":9187,"name":"metrics","protocol":"TCP"}],"readinessProbe":{"failureThreshold":6,"httpGet":{"path":"/","port":"metrics","scheme":"HTTP"},"initialDelaySeconds":5,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":5},"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","name":"default-token-k6hks","readOnly":true}]}],"dnsPolicy":"ClusterFirst","hostname":"postgresql-postgresql-0","initContainers":[{"command":["sh","-c","mkdir -p /bitnami/postgresql/data\nchmod 700 /bitnami/postgresql/data\nfind /bitnami/postgresql -mindepth 1 -maxdepth 1 -not -name \".snapshot\" | \\\n  xargs chown -R 1001:1001\n"],"image":"docker.io/bitnami/minideb:latest","imagePullPolicy":"Always","name":"init-chmod-data","resources":{"requests":{"cpu":"250m","memory":"256Mi"}},"securityContext":{"procMount":"Default","runAsUser":0},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/bitnami/postgresql","name":"data"},{"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","name":"default-token-k6hks","readOnly":true}]}],"nodeName":"ip-172-31-180-193.us-east-2.compute.internal","priority":0,"restartPolicy":"Always","schedulerName":"default-scheduler","securityContext":{"fsGroup":1001},"serviceAccount":"default","serviceAccountName":"default","subdomain":"postgresql-postgresql-headless","terminationGracePeriodSeconds":30,"tolerations":[{"effect":"NoExecute","key":"node.kubernetes.io/not-ready","operator":"Exists","tolerationSeconds":300},{"effect":"NoExecute","key":"node.kubernetes.io/unreachable","operator":"Exists","tolerationSeconds":300}],"volumes":[{"name":"data","persistentVolumeClaim":{"claimName":"data-postgresql-postgresql-0"}},{"configMap":{"defaultMode":420,"name":"postgresql-postgresql-init-scripts"},"name":"custom-init-scripts"},{"name":"default-token-k6hks","secret":{"defaultMode":420,"secretName":"default-token-k6hks"}}]},"status":{"conditions":[{"lastProbeTime":null,"lastTransitionTime":"2020-10-19T00:38:29Z","status":"True","type":"Initialized"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-19T00:39:11Z","status":"True","type":"Ready"},{"lastProbeTime":null,"lastTransitionTime":"2020-10-19T00:39:11Z","status":"True","type":"ContainersReady"},{"lastProbeTime":null,"lastTransitionTime":"2020-09-11T14:26:01Z","status":"True","type":"PodScheduled"}],"containerStatuses":[{"containerID":"docker://2be0e70b9d122d24fb7ec0cb1f1645f762dbd0c5b2f83800e1d97ae70f002da9","image":"wrouesnel/postgres_exporter:v0.4.7","imageID":"docker-pullable://wrouesnel/postgres_exporter@sha256:dd8051322ceb8995d3d7f116041a2116815e01e88232a90f635ebde8dcc4d3f4","lastState":{"terminated":{"containerID":"docker://9ec6d1692aac3af0e126dc0e79ab63d67cf29179a1073e654de93b39d726de9d","exitCode":2,"finishedAt":"2020-10-19T00:30:56Z","reason":"Error","startedAt":"2020-10-15T12:44:24Z"}},"name":"metrics","ready":true,"restartCount":4,"state":{"running":{"startedAt":"2020-10-19T00:38:55Z"}}},{"containerID":"docker://88df4405ee16e283d6ab26eaa9a3c45a6045bed6cabc8bc1e7c837635094eb2a","image":"bitnami/postgresql:11.3.0-debian-9-r28","imageID":"docker-pullable://bitnami/postgresql@sha256:815ad70d5a4b83bf81612b385715c3817b4a49ae460c6b25b257490b4614ebd3","lastState":{"terminated":{"containerID":"docker://2e7298b6595c44b1d66ab2171ab529909c520811cc46709b48915b1feb0cc625","exitCode":137,"finishedAt":"2020-10-19T00:32:46Z","reason":"Error","startedAt":"2020-10-15T12:42:41Z"}},"name":"postgresql-postgresql","ready":true,"restartCount":3,"state":{"running":{"startedAt":"2020-10-19T00:38:43Z"}}}],"hostIP":"172.31.180.193","initContainerStatuses":[{"containerID":"docker://16a086cba0ec582a3bb5fb1085cdfd931b45155abcd1832a26569ae89385cca1","image":"bitnami/minideb:latest","imageID":"docker-pullable://bitnami/minideb@sha256:96583ce2ba23fe8bfb82cef8dc7d1cfec84c2a0e9b77700123527cbd74f1a557","lastState":{},"name":"init-chmod-data","ready":true,"restartCount":1,"state":{"terminated":{"containerID":"docker://16a086cba0ec582a3bb5fb1085cdfd931b45155abcd1832a26569ae89385cca1","exitCode":0,"finishedAt":"2020-10-19T00:38:24Z","reason":"Completed","startedAt":"2020-10-19T00:38:08Z"}}}],"phase":"Running","podIP":"100.96.36.171","qosClass":"Burstable","startTime":"2020-09-11T14:26:01Z"}}], "kind": "List", "metadata": { "resourceVersion": "", "selfLink": "" }}`
	type args struct {
		json    string
		pattern string
	}
	tests := []struct {
		name string
		args args
		want valHolder
	}{
		{
			name: "json select",
			args: args{
				json:    input,
				pattern: `items.#(metadata.labels.app\.kubernetes\.io/name%"argocd-serv*").metadata.name`,
			},
			want: newStringValHolder("argocd-server-74b7b94945-tq6wc"),
		},
	}
	for _, tt := range tests {
		t.Run(tt.name, func(t *testing.T) {
			if got := JsonSelect(tt.args.json, tt.args.pattern); !reflect.DeepEqual(got, tt.want) {
				t.Errorf("JsonSelect() = %v, want %v", got, tt.want)
			}
		})
	}
}
